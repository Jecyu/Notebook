# JS 原型概念与应用

## 前言

如果向你请教“原型”这两个字是什么意思，你会怎么解释呢？不同领域的人可能有不同的见解。在文学电影作品领域，主线剧情便是一个原型，例如罗密欧与茱丽叶是是遭遇家人反对为爱殉情男女的原型，跟中国故事的梁山伯与祝英台很像。另外，故事中的人物也可以是原型，例如英雄的原型。在互联网领域更是细分不少，在游戏开发中，一个原型是可以快速试玩的 demo。对于网站开发，原型可以起始于产品经理手中的线框图。

那么原型是什么呢，接下来本文会从一般的原型说到 JS 的原型以及JS 为什么需要原型。

**摘要**：

- 什么是原型
- JS 为什么需要原型链
- **proto** 与 prototype 的区别
- 应用场景

**面向读者**：对于 JS 原型链概念模糊的前端工程师，说不清`proto` 与 `prototype` 的区别。

## 什么是原型？

举个例子，你还记得2016 年大火的动画电影是什么？那就是新海诚的作品《你的名字》，且不少奏乐动听，在剧情上也让人很深刻。剧情并非以单纯恋爱题材为主，而是“有着见面的命运但迟迟无法相见的两人”。而这部作用的原型，便是以早期的新海城[《十字路口》视频链接]()为原型。

![](../.vuepress/public/images/2020-06-08-07-53-09-js-prototype-01.png)

在文学电影创作领域，除了剧情外，人物主角也是先从原型制作而来。可以看看《虐杀原型》这个游戏的主角纸面原型构造图，除了设定好人物的外表外，更重要的是要设定他的行为（功能）：

[虐杀原型，人物构造图]()

。无论是故事剧情、人物，还是制造一个工业产品，所谓原型就是最初的样例、模型（很多时候模型和原型视为同一个东西）或者是为了测试概念而构建的产品。

### 原型的特点与目的

原型最本质的特点是，它是你最终制作的成品的最小规模，但具有核心功能的东西。它的目的是为了让我们可以快速多次测试自己的想法是否正确，比如一个游戏设计师，他需要不断制作具备核心功能的游戏原型，测试游戏原型，以来测试游戏的机制、规则等是否合理。当然在制作制作原型，他也可以参考成功的游戏的原型。

最早视觉上可以交互的原型，便是纸面原型（也就是在纸上画画，以及使用一些玩具类的东西构建）。

原型的规模大小是相对成品而言的，而在每个阶段都可以成为下一个阶段的原型，从纸面原型到真正可以进行交互的原型。

[一个机器人或虐杀原型，从纸面到真正可以动的模型 gif]()

### 原型经历的阶段

![](../.vuepress/public/images/2020-06-09-07-22-37-js-prototype-01.png)

从原型到成品，也不是一次到位，其中也经历了很多的版本迭代，跟我们编程一样的道理，肯定不是下面这样一次完成。

（画马）

## 计算机科学的原型

<!-- 这里的计算机科学的原型是否应该换成计算机编程 -->

在面向对象编程中，最重要的特点就是类与继承的概念了。在很多面向对象语言中如 C#、java 中，我们可以通过声明一个类作为基类，然后通过继承这个基类定义一个新类。

```cs
```

这里的基类就是我们上面所说的原型，举个例子。

<!-- 2K NBA online，已经具备基本的篮球能力的原型，开始只有基本的人物外表，然后你可以进行自定义外表，塑造出你喜欢的形象。（这个例子不太适合，更适合组合系统（也就是装饰器）） -->

<!-- 动物，人 -->

另外，而基于这个人物类进行实例化出男人 man 和女人 woman，这个人物类也可以说是 man 和 woman 的原型。

除了这种直观的原型外，还有数据原型（数据的迁移、集成）等。

### 构造器（构造函数）与原型的区别

在面向对象编程中，除了原型（`prototype`） 这个词外，构造器（`contructor`）也是我们接触比较多的术语。两者有什么区别呢，有哪些应用场景。

构造器是可以构造出原型的机器，在编程中就是 contructor，指的是整个类（原型）。而构造函数则是提供消费者（用户）可以基于这个原型进行初始化状态所用。

```js
// 这是整个类型
// 构造函数
```

C#、Java 都没有 （原型）prototype 这个属性，JS 中却有这个属性，让我们来看看 JS 中的原型。

## JS 中的原型

### 什么是原型链

### 为什么需要原型链

### 回顾传统面向对象语言的继承

### JS 是如何使用原型链进行类的继承的

- 对象构造器
- 重写 contructor 的问题
- 一些操作符 instanceof typeof in 操作符

### 使用 ES6 的 class 实现继承

## __proto__ 与 prototype 的区别

### 在 debugger 中查看属性

## 应用场景

### 给第三方库、框架增加属性

除了在 window 对象外
要注意在大型项目中，prototype 属性的冲突问题。

## 小结

## 参考资料

- [深入探究 Function & Object 鸡蛋问题](https://github.com/yygmind/blog/issues/35)
- [【进阶 5-2 期】图解原型链及其继承优缺点](https://github.com/yygmind/blog/issues/35)
- [【进阶 5-1 期】重新认识构造函数、原型和原型链](https://juejin.im/post/5c6a9c10f265da2db87b98f3)
- [wiki 原型](https://zh.wikipedia.org/wiki/%E5%8E%9F%E5%9E%8B)
- [Prototype](https://en.wikipedia.org/wiki/Prototype#cite_note-:0-1)
- [所谓原型，是个什么东西？](http://www.woshipm.com/pd/144880.html)
