<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>专业拆造轮子系列之按钮篇 | Naluduo&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/Notebook/images/logo.jpeg">
    <meta name="description" content="📝每天记录一点点">
    <link rel="preload" href="/Notebook/assets/css/0.styles.8f4327af.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.139a155b.js" as="script"><link rel="preload" href="/Notebook/assets/js/4.e8b70bd9.js" as="script"><link rel="preload" href="/Notebook/assets/js/63.db776fb0.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/10.1fae0c9b.js"><link rel="prefetch" href="/Notebook/assets/js/100.d0da51c4.js"><link rel="prefetch" href="/Notebook/assets/js/101.f5af623a.js"><link rel="prefetch" href="/Notebook/assets/js/102.b3d42b74.js"><link rel="prefetch" href="/Notebook/assets/js/103.8f17785a.js"><link rel="prefetch" href="/Notebook/assets/js/104.056d18e2.js"><link rel="prefetch" href="/Notebook/assets/js/105.50f362f2.js"><link rel="prefetch" href="/Notebook/assets/js/106.2293abd8.js"><link rel="prefetch" href="/Notebook/assets/js/107.776d74d9.js"><link rel="prefetch" href="/Notebook/assets/js/108.562a5345.js"><link rel="prefetch" href="/Notebook/assets/js/109.9897ab89.js"><link rel="prefetch" href="/Notebook/assets/js/11.c1323ed6.js"><link rel="prefetch" href="/Notebook/assets/js/110.5986b585.js"><link rel="prefetch" href="/Notebook/assets/js/111.163a9a13.js"><link rel="prefetch" href="/Notebook/assets/js/112.ab7e15ac.js"><link rel="prefetch" href="/Notebook/assets/js/113.11bd753c.js"><link rel="prefetch" href="/Notebook/assets/js/114.53962168.js"><link rel="prefetch" href="/Notebook/assets/js/115.3a5ada66.js"><link rel="prefetch" href="/Notebook/assets/js/116.cf65da6f.js"><link rel="prefetch" href="/Notebook/assets/js/117.26108558.js"><link rel="prefetch" href="/Notebook/assets/js/118.aa336fda.js"><link rel="prefetch" href="/Notebook/assets/js/119.7ceb5577.js"><link rel="prefetch" href="/Notebook/assets/js/12.4e58256f.js"><link rel="prefetch" href="/Notebook/assets/js/120.4f14c30d.js"><link rel="prefetch" href="/Notebook/assets/js/121.19f5571d.js"><link rel="prefetch" href="/Notebook/assets/js/122.1d0669c3.js"><link rel="prefetch" href="/Notebook/assets/js/123.a7f30f7e.js"><link rel="prefetch" href="/Notebook/assets/js/124.fff11adb.js"><link rel="prefetch" href="/Notebook/assets/js/125.b56646a4.js"><link rel="prefetch" href="/Notebook/assets/js/126.1c59b3bd.js"><link rel="prefetch" href="/Notebook/assets/js/127.fcb506e8.js"><link rel="prefetch" href="/Notebook/assets/js/128.5b580b8f.js"><link rel="prefetch" href="/Notebook/assets/js/129.84ae003a.js"><link rel="prefetch" href="/Notebook/assets/js/13.1c4e6be1.js"><link rel="prefetch" href="/Notebook/assets/js/130.6dcaf514.js"><link rel="prefetch" href="/Notebook/assets/js/131.a42f7c47.js"><link rel="prefetch" href="/Notebook/assets/js/132.04f8a016.js"><link rel="prefetch" href="/Notebook/assets/js/133.57281f84.js"><link rel="prefetch" href="/Notebook/assets/js/134.ecd654d6.js"><link rel="prefetch" href="/Notebook/assets/js/135.63a2dbad.js"><link rel="prefetch" href="/Notebook/assets/js/136.d99e29b3.js"><link rel="prefetch" href="/Notebook/assets/js/137.50d7b01d.js"><link rel="prefetch" href="/Notebook/assets/js/138.4390b86c.js"><link rel="prefetch" href="/Notebook/assets/js/139.2d9ce853.js"><link rel="prefetch" href="/Notebook/assets/js/14.0443782b.js"><link rel="prefetch" href="/Notebook/assets/js/140.4a2047e8.js"><link rel="prefetch" href="/Notebook/assets/js/141.b3704c9c.js"><link rel="prefetch" href="/Notebook/assets/js/142.4d142b47.js"><link rel="prefetch" href="/Notebook/assets/js/143.f15872bb.js"><link rel="prefetch" href="/Notebook/assets/js/144.679f0a2d.js"><link rel="prefetch" href="/Notebook/assets/js/145.2106194a.js"><link rel="prefetch" href="/Notebook/assets/js/146.605f3d79.js"><link rel="prefetch" href="/Notebook/assets/js/147.3682320c.js"><link rel="prefetch" href="/Notebook/assets/js/148.cbcbff7e.js"><link rel="prefetch" href="/Notebook/assets/js/149.c2a26094.js"><link rel="prefetch" href="/Notebook/assets/js/15.de1f84e8.js"><link rel="prefetch" href="/Notebook/assets/js/150.0086324a.js"><link rel="prefetch" href="/Notebook/assets/js/151.5f722522.js"><link rel="prefetch" href="/Notebook/assets/js/152.d3eaf2c8.js"><link rel="prefetch" href="/Notebook/assets/js/153.a1864660.js"><link rel="prefetch" href="/Notebook/assets/js/154.d1ae6046.js"><link rel="prefetch" href="/Notebook/assets/js/155.eb0fccff.js"><link rel="prefetch" href="/Notebook/assets/js/156.9db0381e.js"><link rel="prefetch" href="/Notebook/assets/js/157.0b4984af.js"><link rel="prefetch" href="/Notebook/assets/js/158.43189b18.js"><link rel="prefetch" href="/Notebook/assets/js/159.812f06b9.js"><link rel="prefetch" href="/Notebook/assets/js/16.2ea274b4.js"><link rel="prefetch" href="/Notebook/assets/js/160.1f44d433.js"><link rel="prefetch" href="/Notebook/assets/js/161.21852224.js"><link rel="prefetch" href="/Notebook/assets/js/162.9bb18d96.js"><link rel="prefetch" href="/Notebook/assets/js/163.0d4bb60d.js"><link rel="prefetch" href="/Notebook/assets/js/164.5ddcb334.js"><link rel="prefetch" href="/Notebook/assets/js/165.4c394b31.js"><link rel="prefetch" href="/Notebook/assets/js/166.62ee9f20.js"><link rel="prefetch" href="/Notebook/assets/js/167.3c668713.js"><link rel="prefetch" href="/Notebook/assets/js/168.bae89f34.js"><link rel="prefetch" href="/Notebook/assets/js/169.efed8b05.js"><link rel="prefetch" href="/Notebook/assets/js/17.881f6ab6.js"><link rel="prefetch" href="/Notebook/assets/js/170.3d8e1b73.js"><link rel="prefetch" href="/Notebook/assets/js/171.2c9b4191.js"><link rel="prefetch" href="/Notebook/assets/js/172.7dda8427.js"><link rel="prefetch" href="/Notebook/assets/js/173.ce6698c1.js"><link rel="prefetch" href="/Notebook/assets/js/174.1ee6dc45.js"><link rel="prefetch" href="/Notebook/assets/js/175.77f2eea7.js"><link rel="prefetch" href="/Notebook/assets/js/176.fbb0fa4e.js"><link rel="prefetch" href="/Notebook/assets/js/177.82817bff.js"><link rel="prefetch" href="/Notebook/assets/js/178.616bd587.js"><link rel="prefetch" href="/Notebook/assets/js/179.6dc3a213.js"><link rel="prefetch" href="/Notebook/assets/js/18.0e13bc5c.js"><link rel="prefetch" href="/Notebook/assets/js/180.55c85341.js"><link rel="prefetch" href="/Notebook/assets/js/181.fc3d81b6.js"><link rel="prefetch" href="/Notebook/assets/js/182.8790a49f.js"><link rel="prefetch" href="/Notebook/assets/js/183.22912b56.js"><link rel="prefetch" href="/Notebook/assets/js/184.a3cc6104.js"><link rel="prefetch" href="/Notebook/assets/js/185.8bad0700.js"><link rel="prefetch" href="/Notebook/assets/js/186.9aca737e.js"><link rel="prefetch" href="/Notebook/assets/js/187.1465e2fb.js"><link rel="prefetch" href="/Notebook/assets/js/188.bd29e48b.js"><link rel="prefetch" href="/Notebook/assets/js/189.0d6a0652.js"><link rel="prefetch" href="/Notebook/assets/js/19.a428bfa6.js"><link rel="prefetch" href="/Notebook/assets/js/190.c8ff6ab9.js"><link rel="prefetch" href="/Notebook/assets/js/191.116dc665.js"><link rel="prefetch" href="/Notebook/assets/js/192.3d558a9e.js"><link rel="prefetch" href="/Notebook/assets/js/193.4d856925.js"><link rel="prefetch" href="/Notebook/assets/js/194.85e0627b.js"><link rel="prefetch" href="/Notebook/assets/js/195.ad78bbd6.js"><link rel="prefetch" href="/Notebook/assets/js/196.8c7c9b72.js"><link rel="prefetch" href="/Notebook/assets/js/197.447f0a00.js"><link rel="prefetch" href="/Notebook/assets/js/198.cfabe606.js"><link rel="prefetch" href="/Notebook/assets/js/199.89482b48.js"><link rel="prefetch" href="/Notebook/assets/js/2.17a0eab0.js"><link rel="prefetch" href="/Notebook/assets/js/20.3106c5a5.js"><link rel="prefetch" href="/Notebook/assets/js/200.c186e0f9.js"><link rel="prefetch" href="/Notebook/assets/js/201.b6bfc826.js"><link rel="prefetch" href="/Notebook/assets/js/202.c1f56d61.js"><link rel="prefetch" href="/Notebook/assets/js/203.55fe1aa3.js"><link rel="prefetch" href="/Notebook/assets/js/204.ebd5e2d4.js"><link rel="prefetch" href="/Notebook/assets/js/205.71b72bf6.js"><link rel="prefetch" href="/Notebook/assets/js/206.bd18bc7f.js"><link rel="prefetch" href="/Notebook/assets/js/207.d4d69acd.js"><link rel="prefetch" href="/Notebook/assets/js/208.222b7876.js"><link rel="prefetch" href="/Notebook/assets/js/209.f25452d4.js"><link rel="prefetch" href="/Notebook/assets/js/21.76dba99d.js"><link rel="prefetch" href="/Notebook/assets/js/210.3393aed8.js"><link rel="prefetch" href="/Notebook/assets/js/211.fb8cb7a1.js"><link rel="prefetch" href="/Notebook/assets/js/212.344d00e0.js"><link rel="prefetch" href="/Notebook/assets/js/213.a51629c4.js"><link rel="prefetch" href="/Notebook/assets/js/214.d97e28ee.js"><link rel="prefetch" href="/Notebook/assets/js/215.66576ead.js"><link rel="prefetch" href="/Notebook/assets/js/216.cbd47b9d.js"><link rel="prefetch" href="/Notebook/assets/js/217.115d7a12.js"><link rel="prefetch" href="/Notebook/assets/js/218.d1b6e62f.js"><link rel="prefetch" href="/Notebook/assets/js/219.f2bf2e5f.js"><link rel="prefetch" href="/Notebook/assets/js/22.a03922de.js"><link rel="prefetch" href="/Notebook/assets/js/220.8df2573e.js"><link rel="prefetch" href="/Notebook/assets/js/221.3d8ee874.js"><link rel="prefetch" href="/Notebook/assets/js/222.8a4e6ab3.js"><link rel="prefetch" href="/Notebook/assets/js/223.e8f7051b.js"><link rel="prefetch" href="/Notebook/assets/js/224.f864e8f4.js"><link rel="prefetch" href="/Notebook/assets/js/225.30413761.js"><link rel="prefetch" href="/Notebook/assets/js/226.c2f2286f.js"><link rel="prefetch" href="/Notebook/assets/js/227.d7346a90.js"><link rel="prefetch" href="/Notebook/assets/js/228.6066eeb2.js"><link rel="prefetch" href="/Notebook/assets/js/229.0102fdc3.js"><link rel="prefetch" href="/Notebook/assets/js/23.685dee89.js"><link rel="prefetch" href="/Notebook/assets/js/230.c21b14f8.js"><link rel="prefetch" href="/Notebook/assets/js/231.9165f00e.js"><link rel="prefetch" href="/Notebook/assets/js/232.a7474466.js"><link rel="prefetch" href="/Notebook/assets/js/233.667bd498.js"><link rel="prefetch" href="/Notebook/assets/js/234.b7eb4d16.js"><link rel="prefetch" href="/Notebook/assets/js/235.0edef63f.js"><link rel="prefetch" href="/Notebook/assets/js/236.076754ee.js"><link rel="prefetch" href="/Notebook/assets/js/237.6527bc02.js"><link rel="prefetch" href="/Notebook/assets/js/238.7aa882f3.js"><link rel="prefetch" href="/Notebook/assets/js/239.71ad3f6e.js"><link rel="prefetch" href="/Notebook/assets/js/24.84834785.js"><link rel="prefetch" href="/Notebook/assets/js/240.42d36cc0.js"><link rel="prefetch" href="/Notebook/assets/js/241.fba85183.js"><link rel="prefetch" href="/Notebook/assets/js/242.d652773d.js"><link rel="prefetch" href="/Notebook/assets/js/243.dd6c78c5.js"><link rel="prefetch" href="/Notebook/assets/js/244.da300c6d.js"><link rel="prefetch" href="/Notebook/assets/js/245.1ab30248.js"><link rel="prefetch" href="/Notebook/assets/js/246.b1de7d1b.js"><link rel="prefetch" href="/Notebook/assets/js/247.17c60f57.js"><link rel="prefetch" href="/Notebook/assets/js/248.f3e9919e.js"><link rel="prefetch" href="/Notebook/assets/js/249.9b68ff42.js"><link rel="prefetch" href="/Notebook/assets/js/25.9c4dea8d.js"><link rel="prefetch" href="/Notebook/assets/js/250.20e586ab.js"><link rel="prefetch" href="/Notebook/assets/js/251.91974a71.js"><link rel="prefetch" href="/Notebook/assets/js/252.4b90ead2.js"><link rel="prefetch" href="/Notebook/assets/js/253.49a92048.js"><link rel="prefetch" href="/Notebook/assets/js/254.8abd7868.js"><link rel="prefetch" href="/Notebook/assets/js/255.874d4cfe.js"><link rel="prefetch" href="/Notebook/assets/js/256.c42da90b.js"><link rel="prefetch" href="/Notebook/assets/js/257.574a4463.js"><link rel="prefetch" href="/Notebook/assets/js/258.9dfecce5.js"><link rel="prefetch" href="/Notebook/assets/js/259.5fb8371d.js"><link rel="prefetch" href="/Notebook/assets/js/26.de8bed1f.js"><link rel="prefetch" href="/Notebook/assets/js/260.8cb0b9f2.js"><link rel="prefetch" href="/Notebook/assets/js/261.0320ad16.js"><link rel="prefetch" href="/Notebook/assets/js/262.7db236d1.js"><link rel="prefetch" href="/Notebook/assets/js/263.968b439e.js"><link rel="prefetch" href="/Notebook/assets/js/264.50a7aa29.js"><link rel="prefetch" href="/Notebook/assets/js/265.71a06556.js"><link rel="prefetch" href="/Notebook/assets/js/266.6c59b012.js"><link rel="prefetch" href="/Notebook/assets/js/267.aeb43b9d.js"><link rel="prefetch" href="/Notebook/assets/js/268.a2929ce6.js"><link rel="prefetch" href="/Notebook/assets/js/269.26707ae0.js"><link rel="prefetch" href="/Notebook/assets/js/27.23c0d0bb.js"><link rel="prefetch" href="/Notebook/assets/js/270.b8610d2f.js"><link rel="prefetch" href="/Notebook/assets/js/271.bda5e283.js"><link rel="prefetch" href="/Notebook/assets/js/272.e49151e7.js"><link rel="prefetch" href="/Notebook/assets/js/273.4cfeb2d1.js"><link rel="prefetch" href="/Notebook/assets/js/274.60fe8724.js"><link rel="prefetch" href="/Notebook/assets/js/275.b5514094.js"><link rel="prefetch" href="/Notebook/assets/js/276.202e3526.js"><link rel="prefetch" href="/Notebook/assets/js/277.26e46a71.js"><link rel="prefetch" href="/Notebook/assets/js/278.1c447532.js"><link rel="prefetch" href="/Notebook/assets/js/279.0b5e7a7b.js"><link rel="prefetch" href="/Notebook/assets/js/28.6f6d2ce9.js"><link rel="prefetch" href="/Notebook/assets/js/280.ba75d1ae.js"><link rel="prefetch" href="/Notebook/assets/js/281.b38f3748.js"><link rel="prefetch" href="/Notebook/assets/js/282.40c8513b.js"><link rel="prefetch" href="/Notebook/assets/js/283.a9392d6d.js"><link rel="prefetch" href="/Notebook/assets/js/284.d27a365f.js"><link rel="prefetch" href="/Notebook/assets/js/285.a628a15e.js"><link rel="prefetch" href="/Notebook/assets/js/286.fd9e7c31.js"><link rel="prefetch" href="/Notebook/assets/js/287.7a9f259d.js"><link rel="prefetch" href="/Notebook/assets/js/288.739670c2.js"><link rel="prefetch" href="/Notebook/assets/js/289.f98fd683.js"><link rel="prefetch" href="/Notebook/assets/js/29.d2e43523.js"><link rel="prefetch" href="/Notebook/assets/js/290.a16d65aa.js"><link rel="prefetch" href="/Notebook/assets/js/291.fc9bd002.js"><link rel="prefetch" href="/Notebook/assets/js/292.118fe91a.js"><link rel="prefetch" href="/Notebook/assets/js/293.6f1d9c68.js"><link rel="prefetch" href="/Notebook/assets/js/294.0bcb5275.js"><link rel="prefetch" href="/Notebook/assets/js/295.7b0fad94.js"><link rel="prefetch" href="/Notebook/assets/js/296.9f9712a5.js"><link rel="prefetch" href="/Notebook/assets/js/297.7febdd59.js"><link rel="prefetch" href="/Notebook/assets/js/298.3675462a.js"><link rel="prefetch" href="/Notebook/assets/js/299.10b010f0.js"><link rel="prefetch" href="/Notebook/assets/js/3.d4ed84ce.js"><link rel="prefetch" href="/Notebook/assets/js/30.7c1f3583.js"><link rel="prefetch" href="/Notebook/assets/js/300.115bd53b.js"><link rel="prefetch" href="/Notebook/assets/js/301.fabbbf0b.js"><link rel="prefetch" href="/Notebook/assets/js/302.57b83223.js"><link rel="prefetch" href="/Notebook/assets/js/303.4e639a46.js"><link rel="prefetch" href="/Notebook/assets/js/304.a35644ff.js"><link rel="prefetch" href="/Notebook/assets/js/305.20d8bbbe.js"><link rel="prefetch" href="/Notebook/assets/js/306.7253f469.js"><link rel="prefetch" href="/Notebook/assets/js/307.75c667f4.js"><link rel="prefetch" href="/Notebook/assets/js/308.f263e4b6.js"><link rel="prefetch" href="/Notebook/assets/js/309.db89dce5.js"><link rel="prefetch" href="/Notebook/assets/js/31.46a6d02f.js"><link rel="prefetch" href="/Notebook/assets/js/310.daa82fee.js"><link rel="prefetch" href="/Notebook/assets/js/311.8412981b.js"><link rel="prefetch" href="/Notebook/assets/js/312.525a26b3.js"><link rel="prefetch" href="/Notebook/assets/js/313.2ebb5383.js"><link rel="prefetch" href="/Notebook/assets/js/32.e657ae7e.js"><link rel="prefetch" href="/Notebook/assets/js/33.8425ca14.js"><link rel="prefetch" href="/Notebook/assets/js/34.e266fc3a.js"><link rel="prefetch" href="/Notebook/assets/js/35.189d30e1.js"><link rel="prefetch" href="/Notebook/assets/js/36.e60ffce6.js"><link rel="prefetch" href="/Notebook/assets/js/37.abdfdc7c.js"><link rel="prefetch" href="/Notebook/assets/js/38.b04368b3.js"><link rel="prefetch" href="/Notebook/assets/js/39.d2adf2bf.js"><link rel="prefetch" href="/Notebook/assets/js/40.35f710b4.js"><link rel="prefetch" href="/Notebook/assets/js/41.8815f14f.js"><link rel="prefetch" href="/Notebook/assets/js/42.f427aa0a.js"><link rel="prefetch" href="/Notebook/assets/js/43.ac86c129.js"><link rel="prefetch" href="/Notebook/assets/js/44.7dec7c54.js"><link rel="prefetch" href="/Notebook/assets/js/45.5fb385e5.js"><link rel="prefetch" href="/Notebook/assets/js/46.33c8a4cd.js"><link rel="prefetch" href="/Notebook/assets/js/47.dd20eb6f.js"><link rel="prefetch" href="/Notebook/assets/js/48.584b92ce.js"><link rel="prefetch" href="/Notebook/assets/js/49.041711a1.js"><link rel="prefetch" href="/Notebook/assets/js/5.b5d0cdd7.js"><link rel="prefetch" href="/Notebook/assets/js/50.8abc2f33.js"><link rel="prefetch" href="/Notebook/assets/js/51.89c79440.js"><link rel="prefetch" href="/Notebook/assets/js/52.34920dcb.js"><link rel="prefetch" href="/Notebook/assets/js/53.fc9689ee.js"><link rel="prefetch" href="/Notebook/assets/js/54.3e6daef2.js"><link rel="prefetch" href="/Notebook/assets/js/55.04dc507e.js"><link rel="prefetch" href="/Notebook/assets/js/56.38a79a77.js"><link rel="prefetch" href="/Notebook/assets/js/57.1a819b05.js"><link rel="prefetch" href="/Notebook/assets/js/58.24921926.js"><link rel="prefetch" href="/Notebook/assets/js/59.cb6c3a52.js"><link rel="prefetch" href="/Notebook/assets/js/6.4ad1c19d.js"><link rel="prefetch" href="/Notebook/assets/js/60.bd7eaa9a.js"><link rel="prefetch" href="/Notebook/assets/js/61.fb5959a5.js"><link rel="prefetch" href="/Notebook/assets/js/62.4ca2a61c.js"><link rel="prefetch" href="/Notebook/assets/js/64.5862c070.js"><link rel="prefetch" href="/Notebook/assets/js/65.a562da8c.js"><link rel="prefetch" href="/Notebook/assets/js/66.9428e6a9.js"><link rel="prefetch" href="/Notebook/assets/js/67.380c3893.js"><link rel="prefetch" href="/Notebook/assets/js/68.4a1d975a.js"><link rel="prefetch" href="/Notebook/assets/js/69.f72c1c2a.js"><link rel="prefetch" href="/Notebook/assets/js/7.f18c22e1.js"><link rel="prefetch" href="/Notebook/assets/js/70.081e9efc.js"><link rel="prefetch" href="/Notebook/assets/js/71.9628b6c9.js"><link rel="prefetch" href="/Notebook/assets/js/72.fd7c0d8b.js"><link rel="prefetch" href="/Notebook/assets/js/73.ade29c87.js"><link rel="prefetch" href="/Notebook/assets/js/74.9beb3002.js"><link rel="prefetch" href="/Notebook/assets/js/75.4a0d7566.js"><link rel="prefetch" href="/Notebook/assets/js/76.82cba373.js"><link rel="prefetch" href="/Notebook/assets/js/77.cbc62dec.js"><link rel="prefetch" href="/Notebook/assets/js/78.7f360c8b.js"><link rel="prefetch" href="/Notebook/assets/js/79.fa101a6c.js"><link rel="prefetch" href="/Notebook/assets/js/8.b60843f8.js"><link rel="prefetch" href="/Notebook/assets/js/80.eff15427.js"><link rel="prefetch" href="/Notebook/assets/js/81.6cb7b0db.js"><link rel="prefetch" href="/Notebook/assets/js/82.8301875b.js"><link rel="prefetch" href="/Notebook/assets/js/83.36e9eaed.js"><link rel="prefetch" href="/Notebook/assets/js/84.6dab4e8d.js"><link rel="prefetch" href="/Notebook/assets/js/85.2698a308.js"><link rel="prefetch" href="/Notebook/assets/js/86.ef360da8.js"><link rel="prefetch" href="/Notebook/assets/js/87.768ec866.js"><link rel="prefetch" href="/Notebook/assets/js/88.ab9a859f.js"><link rel="prefetch" href="/Notebook/assets/js/89.d7a10705.js"><link rel="prefetch" href="/Notebook/assets/js/9.e93336f2.js"><link rel="prefetch" href="/Notebook/assets/js/90.ffb88a3d.js"><link rel="prefetch" href="/Notebook/assets/js/91.196c3e62.js"><link rel="prefetch" href="/Notebook/assets/js/92.c6c9f350.js"><link rel="prefetch" href="/Notebook/assets/js/93.4a2bfcd4.js"><link rel="prefetch" href="/Notebook/assets/js/94.5e133456.js"><link rel="prefetch" href="/Notebook/assets/js/95.90e64ed0.js"><link rel="prefetch" href="/Notebook/assets/js/96.e7faab2f.js"><link rel="prefetch" href="/Notebook/assets/js/97.5369d09a.js"><link rel="prefetch" href="/Notebook/assets/js/98.b3ce3ca9.js"><link rel="prefetch" href="/Notebook/assets/js/99.00453fa5.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.8f4327af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">Naluduo's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者" class="dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">
  💻大前端
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.jecyu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jecyu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者" class="dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">
  💻大前端
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.jecyu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jecyu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="专业拆造轮子系列之按钮篇"><a href="#专业拆造轮子系列之按钮篇" class="header-anchor">#</a> 专业拆造轮子系列之按钮篇</h1> <p><img src="/Notebook/assets/img/2021-02-23-22-54-13.afa16b68.png" alt=""></p> <h2 id="_0-前言"><a href="#_0-前言" class="header-anchor">#</a> 0. 前言</h2> <p>仿造：JS 原生 Button —— Vue Button，各自造一个仓库，都是作为学习用。 react Button</p> <p>设计规范样式，可以仿造 antd-design 的设计</p> <p>仓库仿造学习：https://github.com/alexwolfe/Buttons，
学习版本：v2.0.0</p> <h2 id="_1-打包后的文件分析：全局运行机制"><a href="#_1-打包后的文件分析：全局运行机制" class="header-anchor">#</a> 1. 打包后的文件分析：全局运行机制</h2> <h3 id="安装使用"><a href="#安装使用" class="header-anchor">#</a> 安装使用</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  <span class="token comment">&lt;!-- Buttons core css --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/buttons.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- Only needed if you want support for dropdown menus --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>js/buttons.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- Only needed if you want font icons --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="buttons-js"><a href="#buttons-js" class="header-anchor">#</a> Buttons.js</h3> <p>通过立即执行函数，注册到用户的运行环境上，依赖于 jQuery，把 jQuery 传递给 IIFE（立即执行函数），并通过它映射为 $，这样就避免了在执行的作用域被其他库覆盖。</p> <p><strong>上下文：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// the semi-colon before function invocation is a safety net against concatenated</span>
<span class="token comment">// scripts and/or other plugins which may not be closed properly.</span>
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span> <span class="token parameter">$<span class="token punctuation">,</span> window<span class="token punctuation">,</span> document<span class="token punctuation">,</span> <span class="token keyword">undefined</span></span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
  <span class="token comment">//  ....</span>
  <span class="token comment">// undefined is used here as the undefined global variable in ECMAScript 3 is</span>
  <span class="token comment">// mutable (ie. it can be changed by someone else). undefined isn't really being</span>
  <span class="token comment">// passed in so we can ensure the value of it is truly undefined. In ES5, undefined</span>
  <span class="token comment">// can no longer be modified.</span>

  <span class="token comment">// window and document are passed through as local variable rather than global</span>
  <span class="token comment">// as this (slightly) quickens the resolution process and can be more efficiently</span>
  <span class="token comment">// minified (especially when both are regularly referenced in your plugin).</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">,</span> window<span class="token punctuation">,</span> document<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>这个逻辑主要是针对下拉框，给按钮绑定一些事件。</p> <p>其中 jQuery 的插件化思想可以学习下：</p> <p><strong>编写插件</strong>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// Create the defaults once</span>
  <span class="token keyword">var</span> pluginName <span class="token operator">=</span> <span class="token string">&quot;menuButton&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> menuClass <span class="token operator">=</span> <span class="token string">&quot;.button-dropdown&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> defaults <span class="token operator">=</span> <span class="token punctuation">{</span>
    propertyName<span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>  
 <span class="token comment">// The actual plugin constructor</span>
 <span class="token comment">/**
   * @description: 
   * @param {Object} element
   * @param {Object} options 配置项目
   */</span>
  <span class="token keyword">function</span> <span class="token function">Plugin</span><span class="token punctuation">(</span> <span class="token parameter">element<span class="token punctuation">,</span> options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">//SET OPTIONS</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> defaults<span class="token punctuation">,</span> options <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_defaults <span class="token operator">=</span> defaults<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> pluginName<span class="token punctuation">;</span>

    <span class="token comment">//REGISTER ELEMENT</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$element <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//INITIALIZE</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Plugin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> Plugin<span class="token punctuation">,</span>

    <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// WE DON'T STOP PROPGATION SO CLICKS WILL AUTOMATICALLY</span>
      <span class="token comment">// TOGGLE AND REMOVE THE DROPDOWN</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">toggle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'dropdown'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'show'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hideMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">showMenu</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'dropdown'</span><span class="token punctuation">,</span> <span class="token string">'show'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.button:first'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'is-active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">hideMenu</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'dropdown'</span><span class="token punctuation">,</span> <span class="token string">'hide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$element<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.button:first'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">'is-active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p><strong>注册插件：</strong></p> <p>要编写一个 jQuery 插件，需要为 jQuery.fn 对象增加一个新的函数属性，属性名就是插件的名字。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// A really lightweight plugin wrapper around the constructor,</span>
  <span class="token comment">// preventing against multiple instantiations</span>
  $<span class="token punctuation">.</span>fn<span class="token punctuation">[</span>pluginName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span> <span class="token parameter">options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里的 this 指向 jQuery 对象</span>
    <span class="token comment">// 返回 this 关键字，保持调用链接性</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 在这里 this 指向 DOM 元素</span>
      <span class="token comment">// TOGGLE BUTTON IF IT EXISTS</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin_&quot;</span> <span class="token operator">+</span> pluginName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 取出之前的实例化的 plugin 值，进行调用</span>
        $<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin_&quot;</span> <span class="token operator">+</span> pluginName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
      <span class="token comment">// OTHERWISE CREATE A NEW INSTANCE</span>
      <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 把 new 实例化的东西进行存储到 data 里</span>
        $<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;plugin_&quot;</span> <span class="token operator">+</span> pluginName<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Plugin</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> options <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>使用插件：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">//DELEGATE CLICK EVENT FOR DROPDOWN MENUS</span>
  <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'[data-buttons=dropdown]'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> $dropdown <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
    $dropdown<span class="token punctuation">.</span><span class="token function">menuButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用插件</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>jQuery 插件化思想总结</strong></p> <ul><li>总是把插件包装在闭包中<code>{/* plugin goes here */}(jQuery)</code>。</li> <li>不要在插件函数的立即作用域中额外包装 this 关键字。</li> <li>总是让插件函数返回 this 关键字以保持 chainability，除非插件有真正的返回值。</li> <li>不要传给插件大量参数，应该传一个可以覆盖插件默认选项的设置对象。</li> <li>在单个插件中，不要让一个以上的名称空间搞乱了 jQuery.fn 对象。</li> <li>总是为方法、事件和数据定义名称空间。</li></ul> <h3 id="buttons-css"><a href="#buttons-css" class="header-anchor">#</a> Buttons.css</h3> <p>主要的样式组成如下：</p> <ul><li>Button Defaults 默认样式</li> <li>Button Colors</li> <li>Button Shapes</li> <li>Button Sizes</li> <li>Color Mixin</li> <li>Base Button Style</li></ul> <p>默认命名空间，主要是 <code>.button</code>，整体以 - 为分隔，形成独立的单元，可以随意组合。</p> <p>也运用到了元素的多种状态处理</p> <ul><li>:active</li> <li>:hover</li> <li>:focus</li> <li>:disabled</li></ul> <p>其他官方的说明：</p> <ul><li>Compass has been replaced with <a href="https://github.com/postcss/autoprefixer" target="_blank" rel="noopener noreferrer">autoprefixer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Compass is not recommended but it is still supported.</li> <li>Button colors are now complete independent (ex. <code>button-primary</code>) we no longer have classes like <code>button-flat-primary</code> to achieve this you now simply add <code>button-flat</code> <code>button-primary</code></li> <li>Buttons styles are now independent (ex. <code>button-flat</code>, <code>button-3d</code>, etc.). You can apply these styles and they will automatically pick up the color attached to the button (ex. button-primary button-3d)</li></ul> <h2 id="_2-src-源码查看"><a href="#_2-src-源码查看" class="header-anchor">#</a> 2. src 源码查看</h2> <h3 id="需求分析"><a href="#需求分析" class="header-anchor">#</a> 需求分析</h3> <h4 id="全局样式"><a href="#全局样式" class="header-anchor">#</a> 全局样式</h4> <p><strong>色彩</strong></p> <p><img src="/Notebook/assets/img/2021-02-13-16-16-04.1205ddda.png" alt=""></p> <p>https://ant.design/docs/spec/colors-cn</p> <p><strong>字体</strong></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/*
* Addresses `font-family` inconsistency between `textarea` and other form
* elements.
*/</span>
<span class="token selector">html,
button,
input,
select,
textarea</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">/*
* Addresses margins handled incorrectly in IE 6/7.
*/</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;proxima-nova&quot;</span><span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Verdana<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> <span class="token string">&quot;Lucida Grande&quot;</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>图标</strong>
采用了 font-awesome 图标，https://fontawesome.com/</p> <p><strong>阴影</strong></p> <h4 id="按钮类型"><a href="#按钮类型" class="header-anchor">#</a> 按钮类型</h4> <p><strong>常规按钮</strong></p> <ul><li>次按钮</li> <li>主按钮</li> <li>文字按钮</li> <li>图标按钮</li></ul> <p><strong>特殊按钮</strong></p> <ul><li>虚线按钮</li> <li>危险按钮</li> <li>幽灵按钮</li> <li>行动号按钮</li></ul> <h3 id="整体架构"><a href="#整体架构" class="header-anchor">#</a> 整体架构</h3> <h4 id="开发环境运行"><a href="#开发环境运行" class="header-anchor">#</a> 开发环境运行</h4> <ol><li>首先安装 package.json 下所有的依赖包，<code>grunt</code> 和相关的 <code>grunt plugin</code>。</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>package.json</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;grunt-autoprefixer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.8.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-clean&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-connect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.8.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-copy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-cssmin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.10.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-qunit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.5.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-contrib-watch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.6.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-includes&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.4.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-saucelabs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.3.2&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;grunt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.4.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;grunt-saucelabs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.3.2&quot;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li>然后需要安装 grunt 全局脚手架，它会寻找 GruntFile.js 配置文件和 grunt 依赖包。</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g grunt-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>根据 README 在命令行终端运行 <code>grunt dev</code>，如果出现 sass 错误如下：</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Warning: 
You need to have Ruby and Sass installed and <span class="token keyword">in</span> your <span class="token environment constant">PATH</span> <span class="token keyword">for</span> this task to work.
More info: https://github.com/gruntjs/grunt-contrib-sass
 Use --force to continue.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>you need to install Sass <code>gem install sass</code> or sudo <code>gem install sass</code> if like me you're on Mac（refer https://github.com/gruntjs/grunt-contrib-sass/issues/229）</p> <h4 id="具体架构设计实现"><a href="#具体架构设计实现" class="header-anchor">#</a> 具体架构设计实现</h4> <p><strong>整体源码的目录如下：</strong></p> <ul><li>css（由 scss 文件目录生成）</li> <li>js（Button 的逻辑文件）</li> <li>scss（按钮的主要 scss 样式文件）</li> <li>showcase（样例）</li> <li>tests（测试文件）</li> <li>Gruntfile.js（grunt 配置文件）</li></ul> <p>脚手架的搭建，主要是使用了 <a href="https://gruntjs.com/" target="_blank" rel="noopener noreferrer">grunt<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，<strong>一个 JavaScript 任务运行工具</strong>。</p> <p>每次运行 <code>grunt</code> 时，它都会使用节点的 <code>require（）</code>系统查找本地安装的 Grunt。 因此，您可以从项目中的任何子文件夹运行 <code>grunt</code>。</p> <p>如果找到本地安装的 Grunt，则 CLI 会加载本地安装的 Grunt 库，读取 <code>Gruntfile</code> 文件配置，并执行您要运行的所有任务。</p> <p><strong>A <code>Gruntfile</code> 由以下部分组成：</strong></p> <ul><li>The &quot;wrapper&quot; function<div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grount</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do grunt-related things in here</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li>Project and task configuration
<ul><li>大多数 Grunt 任务依赖于传递给 <code>grunt.initConfig</code> 方法的对象中定义的配置数据。<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Project configuration.</span>
grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  pkg<span class="token operator">:</span> grunt<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">readJSON</span><span class="token punctuation">(</span><span class="token string">'package.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  uglify<span class="token operator">:</span> <span class="token punctuation">{</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      banner<span class="token operator">:</span> <span class="token string">'/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today(&quot;yyyy-mm-dd&quot;) %&gt; */\n'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span>
      src<span class="token operator">:</span> <span class="token string">'src/&lt;%= pkg.name %&gt;.js'</span><span class="token punctuation">,</span>
      dest<span class="token operator">:</span> <span class="token string">'build/&lt;%= pkg.name %&gt;.min.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul></li> <li>Loading Grunt plugins and tasks
<ul><li>许多常用的任务（如串联，压缩和 lint）都可以作为grunt 插件使用。 只要在 <code>package.json</code> 中将插件指定为依赖项，并且已通过<code>npm install</code> 进行安装，就可以使用简单的命令在您的 <code>Gruntfile</code> 中启用它：<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Load the plugin that provides the &quot;uglify&quot; task.</span>
grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-uglify'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li>Custom tasks
<ul><li>您可以通过定义默认任务将 Grunt 配置为默认运行一个或多个任务。 在以下示例中，在命令行中运行grunt而不指定任务将运行 uglify 任务。 这在功能上与显式运行<code>grunt uglify</code> 甚至 <code>grunt default</code> 相同。 数组中可以指定任意数量的任务（带有或不带有参数）。<div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Default task(s).</span>
grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'uglify'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li>如果您的项目需要的任务不是Grunt插件提供的，则可以在 <code>Gruntfile</code> 内部定义自定义任务。 例如，此<code>Gruntfile</code> 定义了一个完全自定义的默认任务，该任务甚至不利用任务配置<div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// A very basic default task.</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token string">'Log some stuff.'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    grunt<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'Logging some stuff...'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li></ul> <p>总的来说，整体步骤如下：</p> <ol><li>通过 <code>loadNpmTasks</code> 或自定义任务，并在 <code>initConfig</code> 中进行配置，</li> <li>然后使用 <code>grunt.registerTask()</code> 注册使用。</li> <li>最后按需运行对应注册的组合任务，比如 <code>grunt dev</code> 或 <code>grunt</code> 运行默认任务。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code> grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'dev'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'includes'</span><span class="token punctuation">,</span> <span class="token string">'sass'</span><span class="token punctuation">,</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'cssmin'</span><span class="token punctuation">,</span> <span class="token string">'copyMain'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">,</span> <span class="token string">'connect'</span><span class="token punctuation">,</span> <span class="token string">'watch'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在我们具体看看项目中 Gruntfile.js 的配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">grunt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
  * Load Grunt Npm Modules
  *
  */</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-sass'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-clean'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-watch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-connect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-copy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-cssmin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-saucelabs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-contrib-qunit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">loadNpmTasks</span><span class="token punctuation">(</span><span class="token string">'grunt-includes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/**
  * Grunt Configuration
  *
  */</span>
  grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token comment">/*
    * Template Includes
    *
    */</span>

    includes<span class="token operator">:</span> <span class="token punctuation">{</span>
      build<span class="token operator">:</span> <span class="token punctuation">{</span>
        cwd<span class="token operator">:</span> <span class="token string">'showcase/pages'</span><span class="token punctuation">,</span>
        src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*.html'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        dest<span class="token operator">:</span> <span class="token string">'showcase/'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          includePath<span class="token operator">:</span> <span class="token string">'showcase/includes'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * Sass Compilation
    *
    */</span>

    sass<span class="token operator">:</span> <span class="token punctuation">{</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">'tmp/css/buttons.css'</span><span class="token operator">:</span> <span class="token string">'scss/buttons.scss'</span><span class="token punctuation">,</span>
          <span class="token string">'tmp/css/showcase.css'</span><span class="token operator">:</span> <span class="token string">'showcase/scss/showcase.scss'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * Vendor Prefixing
    *
    */</span>

    autoprefixer<span class="token operator">:</span> <span class="token punctuation">{</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        browsers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'last 3 versions'</span><span class="token punctuation">,</span> <span class="token string">'safari 5'</span><span class="token punctuation">,</span> <span class="token string">'ie 8'</span><span class="token punctuation">,</span> <span class="token string">'ie 9'</span><span class="token punctuation">,</span> <span class="token string">'Firefox &gt;= 20'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        flatten<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        src<span class="token operator">:</span> <span class="token string">'tmp/css/*.css'</span><span class="token punctuation">,</span>
        dest<span class="token operator">:</span> <span class="token string">'tmp/css'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * Minify files
    *
    */</span>

    cssmin<span class="token operator">:</span> <span class="token punctuation">{</span>
      add_banner<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          banner<span class="token operator">:</span> <span class="token string">'/* Buttons */'</span><span class="token punctuation">,</span>
          keepSpecialComments<span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        files<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">'tmp/css/buttons.min.css'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'tmp/css/buttons.css'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/*
    * Copy files
    *
    */</span>

    copy<span class="token operator">:</span> <span class="token punctuation">{</span>
      css_library<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'tmp/css'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*'</span><span class="token punctuation">,</span> <span class="token string">'!showcase.css'</span><span class="token punctuation">,</span> <span class="token string">'!showcase.css.map'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'css'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      css_showcase<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'tmp/css'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*'</span><span class="token punctuation">,</span> <span class="token string">'!buttons.min.css'</span><span class="token punctuation">,</span> <span class="token string">'!buttons.css.map'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'showcase/css'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      js_showcase<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'js'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'showcase/js'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      showcase_dist<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'showcase'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*.html'</span><span class="token punctuation">,</span> <span class="token string">'css/**/*'</span><span class="token punctuation">,</span> <span class="token string">'fonts/**/*'</span><span class="token punctuation">,</span> <span class="token string">'images/**/*'</span><span class="token punctuation">,</span> <span class="token string">'js/**/*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'showcase-dist'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * Clean tmp folders
    *
    */</span>

    clean<span class="token operator">:</span> <span class="token punctuation">{</span>
      dev<span class="token operator">:</span> <span class="token punctuation">{</span>
        src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;tmp&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      build<span class="token operator">:</span> <span class="token punctuation">{</span>
        src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;showcase-dist&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * Launch local server
    *
    */</span>

    connect<span class="token operator">:</span> <span class="token punctuation">{</span>
      livereload<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          port<span class="token operator">:</span> <span class="token number">8000</span><span class="token punctuation">,</span>
          livereload<span class="token operator">:</span> <span class="token number">35729</span><span class="token punctuation">,</span> <span class="token comment">// change this to '0.0.0.0' to access the server from outside</span>
          hostname<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
          base<span class="token operator">:</span> <span class="token string">'showcase'</span><span class="token punctuation">,</span>
          open<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      sauce<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          port<span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>
          hostname<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
          base<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * Watch for changes
    *
    */</span>

    watch<span class="token operator">:</span> <span class="token punctuation">{</span>
      scripts<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'js/**/*.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        tasks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'copy:main:js_showcase'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      sass<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'scss/**/*.scss'</span><span class="token punctuation">,</span> <span class="token string">'showcase/scss/**/*.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        tasks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'sass'</span><span class="token punctuation">,</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'copy:css_showcase'</span><span class="token punctuation">,</span> <span class="token string">'copy:css_library'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      includes<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'showcase/includes/**/*.html'</span><span class="token punctuation">,</span> <span class="token string">'showcase/pages/**/*.html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        tasks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'includes'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      livereload<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          livereload<span class="token operator">:</span> <span class="token string">'&lt;%= connect.livereload.options.livereload %&gt;'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">'scss/**/*.scss'</span><span class="token punctuation">,</span>
          <span class="token string">'css/**/*.css'</span><span class="token punctuation">,</span>
          <span class="token string">'js/**/*'</span><span class="token punctuation">,</span>
          <span class="token string">'showcase/**/*'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


    <span class="token comment">/*
    * QUnit
    *
    */</span>

    qunit<span class="token operator">:</span> <span class="token punctuation">{</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        urls<span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token string">'http://localhost:9999/js/tests/*.html'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/*
    * Saucelabs
    * Requires environment variables set e.g. export SAUCE_USERNAME=XX; export SAUCE_ACCESS_KEY=XX
    *
    */</span>
    <span class="token string">'saucelabs-qunit'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//DO NOT CHANGE NAME</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          build<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TRAVIS_JOB_ID</span><span class="token punctuation">,</span>
          concurrency<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          tunnelTimeout<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          urls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'http://localhost:9999/tests/index.html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          testname<span class="token operator">:</span> <span class="token string">'Buttons Sauce Unit Tests'</span><span class="token punctuation">,</span>
          browsers<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'safari'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'6'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'OS X 10.8'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'firefox'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'25'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'OS X 10.6'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'chrome'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'31'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'Windows 8.1'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">/**
  * Grunt Helper Tasks
  *
  */</span>

  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'qunit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'sauceserver'</span><span class="token punctuation">,</span> <span class="token string">'connect:sauce'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'sauce'</span><span class="token punctuation">,</span> <span class="token string">'saucelabs-qunit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> testSubtasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SAUCE_ACCESS_KEY</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    testSubtasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'sauceserver'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    testSubtasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'sauce'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'copyMain'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'copy:css_library'</span><span class="token punctuation">,</span> <span class="token string">'copy:css_showcase'</span><span class="token punctuation">,</span> <span class="token string">'copy:js_showcase'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">/**
  * Grunt Core Build Tasks
  *
  */</span>

  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'sass'</span><span class="token punctuation">,</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'cssmin'</span><span class="token punctuation">,</span> <span class="token string">'copyMain'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'dev'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'includes'</span><span class="token punctuation">,</span> <span class="token string">'sass'</span><span class="token punctuation">,</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'cssmin'</span><span class="token punctuation">,</span> <span class="token string">'copyMain'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">,</span> <span class="token string">'connect'</span><span class="token punctuation">,</span> <span class="token string">'watch'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'clean:build'</span><span class="token punctuation">,</span> <span class="token string">'includes'</span><span class="token punctuation">,</span> <span class="token string">'sass'</span><span class="token punctuation">,</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'cssmin'</span><span class="token punctuation">,</span> <span class="token string">'copyMain'</span><span class="token punctuation">,</span> <span class="token string">'copy:showcase_dist'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'tests'</span><span class="token punctuation">,</span> testSubtasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br></div></div><p><strong>进行测试：</strong></p> <p>运行 <code>grunt dev</code>，会依次跑以下的任务：
<strong>1. includes</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   includes<span class="token operator">:</span> <span class="token punctuation">{</span>
      build<span class="token operator">:</span> <span class="token punctuation">{</span>
        cwd<span class="token operator">:</span> <span class="token string">'showcase/pages'</span><span class="token punctuation">,</span>
        src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*.html'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        dest<span class="token operator">:</span> <span class="token string">'showcase/'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          includePath<span class="token operator">:</span> <span class="token string">'showcase/includes'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>把 <code>showcase/includes</code> 里面的 <code>*.html</code> 文件作为 <code>show/pages/*.html</code> 的一部分导入进去，最终输出到 dest 指定的 <code>showcase/</code> 文件内进行展示。</p> <p><strong>2. sass</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/*
    * Sass Compilation
    *
    */</span>

    sass<span class="token operator">:</span> <span class="token punctuation">{</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">'tmp/css/buttons.css'</span><span class="token operator">:</span> <span class="token string">'scss/buttons.scss'</span><span class="token punctuation">,</span>
          <span class="token string">'tmp/css/showcase.css'</span><span class="token operator">:</span> <span class="token string">'showcase/scss/showcase.scss'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>左边为输出的文件，右边为输入的文件。</p> <p>其中 showcase/pages/index.html 会引入生成的文件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/showcase.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/buttons.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>3. autoprefixer</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/*
    * Vendor Prefixing
    *
    */</span>

    autoprefixer<span class="token operator">:</span> <span class="token punctuation">{</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        browsers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'last 3 versions'</span><span class="token punctuation">,</span> <span class="token string">'safari 5'</span><span class="token punctuation">,</span> <span class="token string">'ie 8'</span><span class="token punctuation">,</span> <span class="token string">'ie 9'</span><span class="token punctuation">,</span> <span class="token string">'Firefox &gt;= 20'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启 expand 属性，可以指定输入目录</span>
        flatten<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 从生成的目标路径中删除所有路径部分</span>
        src<span class="token operator">:</span> <span class="token string">'tmp/css/*.css'</span><span class="token punctuation">,</span> <span class="token comment">// 输入</span>
        dest<span class="token operator">:</span> <span class="token string">'tmp/css'</span> <span class="token operator">/</span><span class="token operator">/</span> 输出
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>对生成的 css 文件进行添加不同浏览器的兼容适配前缀。</p> <p><strong>4. cssmin</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token comment">/*
    * Minify files
    *
    */</span>
    cssmin<span class="token operator">:</span> <span class="token punctuation">{</span>
      add_banner<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          banner<span class="token operator">:</span> <span class="token string">'/* Buttons */'</span><span class="token punctuation">,</span>
          keepSpecialComments<span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        files<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">'tmp/css/buttons.min.css'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'tmp/css/buttons.css'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>压缩 buttons.css 文件。</p> <p><strong>5. copyMain</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 <span class="token comment">/*
    * Copy files
    *
    */</span>

    copy<span class="token operator">:</span> <span class="token punctuation">{</span>
      css_library<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'tmp/css'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*'</span><span class="token punctuation">,</span> <span class="token string">'!showcase.css'</span><span class="token punctuation">,</span> <span class="token string">'!showcase.css.map'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'css'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      css_showcase<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'tmp/css'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*'</span><span class="token punctuation">,</span> <span class="token string">'!buttons.min.css'</span><span class="token punctuation">,</span> <span class="token string">'!buttons.css.map'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'showcase/css'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      js_showcase<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'js'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'showcase/js'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      showcase_dist<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          expand<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          cwd<span class="token operator">:</span> <span class="token string">'showcase'</span><span class="token punctuation">,</span>
          src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*.html'</span><span class="token punctuation">,</span> <span class="token string">'css/**/*'</span><span class="token punctuation">,</span> <span class="token string">'fonts/**/*'</span><span class="token punctuation">,</span> <span class="token string">'images/**/*'</span><span class="token punctuation">,</span> <span class="token string">'js/**/*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          dest<span class="token operator">:</span> <span class="token string">'showcase-dist'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>复制生成的 css 和 js 文件到样例 showcase 和库文件夹内，以及打包演示的文件。</p> <p><strong>6. clean:dev</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/*
    * Clean tmp folders
    *
    */</span>

    clean<span class="token operator">:</span> <span class="token punctuation">{</span>
      dev<span class="token operator">:</span> <span class="token punctuation">{</span>
        src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;tmp&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      build<span class="token operator">:</span> <span class="token punctuation">{</span>
        src<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;showcase-dist&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在 dev 下，清空 tmp 文件夹。在 build 下，清除 showcase-dist 文件夹。</p> <p><strong>7. connect</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/*
    * Launch local server
    *
    */</span>

    connect<span class="token operator">:</span> <span class="token punctuation">{</span>
      livereload<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          port<span class="token operator">:</span> <span class="token number">8000</span><span class="token punctuation">,</span>
          livereload<span class="token operator">:</span> <span class="token number">35729</span><span class="token punctuation">,</span> <span class="token comment">// change this to '0.0.0.0' to access the server from outside</span>
          hostname<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
          base<span class="token operator">:</span> <span class="token string">'showcase'</span><span class="token punctuation">,</span>
          open<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      sauce<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          port<span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>
          hostname<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
          base<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><code>grunt-contrib-connect</code> 任务对应的 <code>connect</code>配置，用于启动一个 8000 端口的静态服务器，它的基础路径设为相对 gruntfile 的 <code>showcase</code>目录，任何后续运行的服务都可以进行访问。其中 sause 就是测试任务所需要设置的，启动了静态服务器 <code>localhost:9999</code></p> <p>，在浏览器中加载<code>http://localhost:9999/js/tests/*.html</code> 页面，页面里主要是引入了 <code>qunit.js</code> 和 <code>qunit.css</code> 资源，以及对应的测试文件 <code>tests.js</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>QUnit Example<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;./resources/qunit.css&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;qunit&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;qunit-fixture&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">&quot;testmeout&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;button-dropdown&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;../js/buttons.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./resources/qunit.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./resources/tests.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>这个时候，就可以看到 tests.js 编写的测试用例了，主要是测试 Buttons.js 的下拉框插件逻辑。</p> <p><img src="/Notebook/assets/img/2021-02-24-21-52-34.79ac74a2.png" alt=""></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> log <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> testName<span class="token punctuation">;</span>
<span class="token keyword">var</span> $dropdown<span class="token punctuation">;</span>
<span class="token keyword">var</span> plugin<span class="token punctuation">;</span>

QUnit<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">test_results</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> tests <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> log<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> details <span class="token operator">=</span> log<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    tests<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> details<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      result<span class="token operator">:</span> details<span class="token punctuation">.</span>result<span class="token punctuation">,</span>
      expected<span class="token operator">:</span> details<span class="token punctuation">.</span>expected<span class="token punctuation">,</span>
      actual<span class="token operator">:</span> details<span class="token punctuation">.</span>actual<span class="token punctuation">,</span>
      source<span class="token operator">:</span> details<span class="token punctuation">.</span>source
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  test_results<span class="token punctuation">.</span>tests <span class="token operator">=</span> tests<span class="token punctuation">;</span>

  window<span class="token punctuation">.</span>global_test_results <span class="token operator">=</span> test_results<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QUnit<span class="token punctuation">.</span><span class="token function">testStart</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">testDetails</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  QUnit<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>details<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      details<span class="token punctuation">.</span>name <span class="token operator">=</span> testDetails<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      log<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>details<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  $dropdown <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#testmeout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">menuButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  plugin <span class="token operator">=</span> $dropdown<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plugin_menuButton<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

QUnit<span class="token punctuation">.</span><span class="token function">testDone</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">details</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  $dropdown <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  plugin <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;plugin defaults&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">equal</span><span class="token punctuation">(</span>plugin<span class="token punctuation">.</span>_name<span class="token punctuation">,</span> <span class="token string">&quot;menuButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;default plugin name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">equal</span><span class="token punctuation">(</span>plugin<span class="token punctuation">.</span>options<span class="token punctuation">.</span>propertyName<span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;default property name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">ok</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>plugin<span class="token punctuation">.</span>$element<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">'button-dropdown'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;has button-dropdown class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;shows&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> $dropdown <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#testmeout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">menuButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  plugin <span class="token operator">=</span> $dropdown<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plugin_menuButton<span class="token punctuation">;</span>
  plugin<span class="token punctuation">.</span><span class="token function">showMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">equal</span><span class="token punctuation">(</span>$dropdown<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'dropdown'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;show&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gets shown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;hides&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> $dropdown <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#testmeout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">menuButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  plugin <span class="token operator">=</span> $dropdown<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plugin_menuButton<span class="token punctuation">;</span>
  plugin<span class="token punctuation">.</span><span class="token function">hideMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">equal</span><span class="token punctuation">(</span>$dropdown<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'dropdown'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;hide&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gets hidden&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p><strong>8. watch</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>grunt<span class="token punctuation">.</span><span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/*
    * Watch for changes
    *
    */</span>

    watch<span class="token operator">:</span> <span class="token punctuation">{</span>
      scripts<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'js/**/*.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        tasks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'copy:main:js_showcase'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      sass<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'scss/**/*.scss'</span><span class="token punctuation">,</span> <span class="token string">'showcase/scss/**/*.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        tasks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'sass'</span><span class="token punctuation">,</span> <span class="token string">'autoprefixer'</span><span class="token punctuation">,</span> <span class="token string">'copy:css_showcase'</span><span class="token punctuation">,</span> <span class="token string">'copy:css_library'</span><span class="token punctuation">,</span> <span class="token string">'clean:dev'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      includes<span class="token operator">:</span> <span class="token punctuation">{</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'showcase/includes/**/*.html'</span><span class="token punctuation">,</span> <span class="token string">'showcase/pages/**/*.html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        tasks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'includes'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      livereload<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          livereload<span class="token operator">:</span> <span class="token string">'&lt;%= connect.livereload.options.livereload %&gt;'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        files<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">'scss/**/*.scss'</span><span class="token punctuation">,</span>
          <span class="token string">'css/**/*.css'</span><span class="token punctuation">,</span>
          <span class="token string">'js/**/*'</span><span class="token punctuation">,</span>
          <span class="token string">'showcase/**/*'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>使用了 <code>grunt-contrib-watch</code> 任务模块，通过配置<code>watch</code> 监控一些文件的改变，在改变后触发相关 tasks 的执行。</p> <p><strong>9. qunit</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">/*
    * QUnit
    *
    */</span>

    qunit<span class="token operator">:</span> <span class="token punctuation">{</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        urls<span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token string">'http://localhost:9999/js/tests/*.html'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
   <span class="token comment">/*
    * Saucelabs
    * Requires environment variables set e.g. export SAUCE_USERNAME=XX; export SAUCE_ACCESS_KEY=XX
    *
    */</span>
    <span class="token string">'saucelabs-qunit'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//DO NOT CHANGE NAME</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          build<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TRAVIS_JOB_ID</span><span class="token punctuation">,</span>
          concurrency<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          tunnelTimeout<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          urls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'http://localhost:9999/tests/index.html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          testname<span class="token operator">:</span> <span class="token string">'Buttons Sauce Unit Tests'</span><span class="token punctuation">,</span>
          browsers<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'safari'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'6'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'OS X 10.8'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'firefox'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'25'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'OS X 10.6'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'chrome'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'31'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'Windows 8.1'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>qunit 对于 <code>grunt-contrib-qunit</code> 模块的设置。本项目中采用的单元测试模式是怎样的？测试相关的配置如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'qunit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'sauceserver'</span><span class="token punctuation">,</span> <span class="token string">'connect:sauce'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  grunt<span class="token punctuation">.</span><span class="token function">registerTask</span><span class="token punctuation">(</span><span class="token string">'sauce'</span><span class="token punctuation">,</span> <span class="token string">'saucelabs-qunit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> testSubtasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SAUCE_ACCESS_KEY</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    testSubtasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'sauceserver'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    testSubtasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'sauce'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    <span class="token comment">/*
    * QUnit
    *
    */</span>

    qunit<span class="token operator">:</span> <span class="token punctuation">{</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        urls<span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token string">'http://localhost:9999/js/tests/*.html'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">/*
    * Saucelabs
    * Requires environment variables set e.g. export SAUCE_USERNAME=XX; export SAUCE_ACCESS_KEY=XX
    *
    */</span>
    <span class="token string">'saucelabs-qunit'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//DO NOT CHANGE NAME</span>
      all<span class="token operator">:</span> <span class="token punctuation">{</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          build<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TRAVIS_JOB_ID</span><span class="token punctuation">,</span>
          concurrency<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          tunnelTimeout<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
          urls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'http://localhost:9999/tests/index.html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          testname<span class="token operator">:</span> <span class="token string">'Buttons Sauce Unit Tests'</span><span class="token punctuation">,</span>
          browsers<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'safari'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'6'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'OS X 10.8'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'firefox'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'25'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'OS X 10.6'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              browserName<span class="token operator">:</span> <span class="token string">'chrome'</span><span class="token punctuation">,</span>
              version<span class="token operator">:</span> <span class="token string">'31'</span><span class="token punctuation">,</span>
              platform<span class="token operator">:</span> <span class="token string">'Windows 8.1'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>命令行终端跑动 <code>grount tests --verbose</code> ，会依次运行 test、qunit 子任务，测试报告是否有错误。其中 --verbose 是输出详细的日志信息。这个没发现有必要的终端输出信息，主要还是在 connect 任务那跑动的页面测试结果。</p> <h3 id="需求逐个实现"><a href="#需求逐个实现" class="header-anchor">#</a> 需求逐个实现</h3> <p>样式的 scss 源文件组织如下：</p> <ul><li>types
<ul><li>_3d.scss</li> <li>_border.scss</li> <li>_wrapper.scss</li> <li>....</li></ul></li> <li>options.scss</li> <li>mixins.scss</li> <li>base.scss</li> <li>layout.scss</li></ul> <p>buttons.scss 作为入口文件</p> <p>把按钮看作是一个二维或三维物体，这样后面的需求才会拆分一步步实现。想象现实生活中的按钮是什么样子的</p> <h4 id="全局样式-2"><a href="#全局样式-2" class="header-anchor">#</a> 全局样式</h4> <p>色彩</p> <p>字体</p> <p>图标</p> <h5 id="buttons-scss"><a href="#buttons-scss" class="header-anchor">#</a> buttons.scss</h5> <p>buttons.scss 作为入口文件，首先引入必要的样式文件包括变量、基础样式。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*
* Required Files
*
* These files include the variables and options
* and base css styles that are required to generate buttons.
*/</span>

@<span class="token keyword">import</span> <span class="token string">'options'</span><span class="token punctuation">;</span> <span class="token comment">// 引入变量</span>
@<span class="token keyword">import</span> <span class="token string">'mixins'</span><span class="token punctuation">;</span> <span class="token comment">// 引入函数</span>
@<span class="token keyword">import</span> <span class="token string">'base'</span><span class="token punctuation">;</span> <span class="token comment">// 基础 Button 样式</span>
@<span class="token keyword">import</span> <span class="token string">'layout'</span><span class="token punctuation">;</span> <span class="token comment">// 基础布局样式</span>


<span class="token comment">/*
* Button Types (optional)
*
* All of the files below represent the various button
* types (including shapes &amp; sizes). None of these files
* are required. Simple remove the uneeded type below and
* the button type will be excluded from the final build
*/</span>

@<span class="token keyword">import</span> <span class="token string">'types/shapes'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/border'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/borderless'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/raised'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/3d'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/glow'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/dropdown'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/groups'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/wrapper'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/longshadow'</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">'types/sizes'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h5 id="options-scss"><a href="#options-scss" class="header-anchor">#</a> _options.scss</h5> <p>options.scss 主要包含按钮所需的基础的变量：</p> <ul><li>按钮命名空间，避免命名冲突</li> <li>按钮默认的样式，默认的字体颜色、字体大小、字体粗细</li> <li>按钮的高度、行高、背景颜色和字体颜色集合</li> <li>按钮的形状、大小变量</li></ul> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token comment">/*
* $ubtn prefix (reserved)
*
* This prefix stands for Unicorn Button - ubtn
* We provide a prefix to the Sass Variables to
* prevent namespace collisions that could occur if
* you import buttons as part of your Sass build process.
* We kindly ask you not to use the prefix $ubtn in your project
* in order to avoid possilbe name conflicts. Thanks!
*/</span>
<span class="token property"><span class="token variable">$ubtn</span></span><span class="token punctuation">:</span> <span class="token string">'Unicorn Buttons'</span><span class="token punctuation">;</span>


<span class="token comment">/*
* Button Namespace (ex .button or .btn)
*
*/</span>
<span class="token property"><span class="token variable">$ubtn-namespace</span></span><span class="token punctuation">:</span> <span class="token string">'.button'</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span> <span class="token comment">//prefix for all classes</span>


<span class="token comment">/*
* Button Defaults
*
* Some default settings that are used throughout the button library.
* Changes to these settings will be picked up by all of the other modules.
* The colors used here are the default colors for the base button (gray).
* The font size and height are used to set the base size for the buttons.
* The size values will be used to calculate the larger and smaller button sizes.
*/</span>
<span class="token property"><span class="token variable">$ubtn-bgcolor</span></span><span class="token punctuation">:</span> #EEE <span class="token statement keyword">!default</span><span class="token punctuation">;</span>  <span class="token comment">// 全局样式</span>
<span class="token property"><span class="token variable">$ubtn-font-color</span></span><span class="token punctuation">:</span> #666 <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$ubtn-font-weight</span></span><span class="token punctuation">:</span> 300 <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$ubtn-font-size</span></span><span class="token punctuation">:</span> 16px <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$ubtn-height</span></span><span class="token punctuation">:</span> 40px <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$ubtn-font-family</span></span><span class="token punctuation">:</span> <span class="token string">&quot;Helvetica Neue Light&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Helvetica Neue&quot;</span><span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> <span class="token string">&quot;Lucida Grande&quot;</span><span class="token punctuation">,</span> sans-serif  <span class="token statement keyword">!default</span><span class="token punctuation">;</span>


<span class="token comment">/*
* Button Colors
*
* $ubtn-colors is used to generate the different button colors.
* Edit or add colors to the list below and recompile.
* Each block contains the (name, background, color)
* The class is generated using the name: (ex .button-primary)
*/</span>
<span class="token comment">// 这个遍历存储的是数组类型，一个二维数组，（字符串 颜色 颜色）</span>
<span class="token property"><span class="token variable">$ubtn-colors</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token string">'primary'</span> #1B9AF7  #FFF<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'plain'</span> #FFF #1B9AF7<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'inverse'</span> #222 #EEE<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'action'</span> #A5DE37  #FFF<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'highlight'</span> #FEAE1B #FFF<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'caution'</span> #FF4351 #FFF<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'royal'</span> #7B72E9 #FFF<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>


<span class="token comment">/*
* Button Shapes
*
* $ubtn-shapes is used to generate the different button shapes.
* Edit or add shapes to the list below and recompile.
* Each block contains the (name, border-radius).
* The class is generated using the name: (ex .button-square).
*/</span>
<span class="token property"><span class="token variable">$ubtn-shapes</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>square 0<span class="token punctuation">)</span> <span class="token punctuation">(</span>box 10px<span class="token punctuation">)</span> <span class="token punctuation">(</span>rounded 4px<span class="token punctuation">)</span> <span class="token punctuation">(</span>pill 200px<span class="token punctuation">)</span> <span class="token punctuation">(</span>circle 100%<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token comment">// Use a map if you prefer when running Sass 3.3+</span>
<span class="token comment">// $ubtn-shapes: (</span>
<span class="token comment">//   square: 0,</span>
<span class="token comment">//   box: 10px,</span>
<span class="token comment">//   rounded: 3px,</span>
<span class="token comment">//   pill: 200px,</span>
<span class="token comment">//   circle: 100%</span>
<span class="token comment">// ) !default;</span>


<span class="token comment">/*
* Button Sizes
*
* $ubtn-sizes is used to generate the different button sizes.
* Edit or add colors to the list below and recompile.
* Each block contains the (name, size multiplier).
* The class is generated using the name: (ex .button-giant).
*/</span>
<span class="token property"><span class="token variable">$ubtn-sizes</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>giant 1.75<span class="token punctuation">)</span> <span class="token punctuation">(</span>jumbo 1.5<span class="token punctuation">)</span> <span class="token punctuation">(</span>large 1.25<span class="token punctuation">)</span> <span class="token punctuation">(</span>normal 1<span class="token punctuation">)</span> <span class="token punctuation">(</span>small .75<span class="token punctuation">)</span> <span class="token punctuation">(</span>tiny .6<span class="token punctuation">)</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
<span class="token comment">// Use a map if you prefer when running Sass 3.3+</span>
<span class="token comment">// $ubtn-sizes: (</span>
<span class="token comment">//   giant: 2,</span>
<span class="token comment">//   jumbo: 1.5,</span>
<span class="token comment">//   large: 1.25,</span>
<span class="token comment">//   default: 1,</span>
<span class="token comment">//   small: .75,</span>
<span class="token comment">//   tiny: .5</span>
<span class="token comment">// ) !default;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br></div></div><h5 id="mixins-scss"><a href="#mixins-scss" class="header-anchor">#</a> _mixins.scss</h5> <p>包含一些复用模块，这些模块也可以通过传递参数进行自定义。</p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token comment">/*
* Color Mixin
*
* Iterates through the list of colors and creates
*
*/</span>

<span class="token keyword">@mixin</span> <span class="token function">colors</span><span class="token punctuation">(</span><span class="token variable">$type-namespace</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token selector"><span class="token variable">#{$type-namespace}</span> </span><span class="token punctuation">{</span>
    <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$ubtn-color</span> in <span class="token variable">$ubtn-colors</span> </span><span class="token punctuation">{</span>
      <span class="token property"><span class="token variable">$ubtn-name</span></span><span class="token punctuation">:</span> <span class="token function">nth</span><span class="token punctuation">(</span><span class="token variable">$ubtn-color</span><span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property"><span class="token variable">$ubtn-background</span></span><span class="token punctuation">:</span> <span class="token function">nth</span><span class="token punctuation">(</span><span class="token variable">$ubtn-color</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property"><span class="token variable">$ubtn-color</span></span><span class="token punctuation">:</span> <span class="token function">nth</span><span class="token punctuation">(</span><span class="token variable">$ubtn-color</span><span class="token punctuation">,</span> 3<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property"><span class="token variable">$ubtn-color-namespace</span></span><span class="token punctuation">:</span> <span class="token variable">$ubtn-namespace</span> <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> <span class="token variable">$ubtn-name</span><span class="token punctuation">;</span>

      <span class="token selector"><span class="token parent important">&amp;</span><span class="token variable">#{$ubtn-color-namespace}</span> </span><span class="token punctuation">{</span>
        <span class="token keyword">@content</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">/*
* No Animation
*
* Sets animation property to none
*/</span>
<span class="token keyword">@mixin</span> <span class="token selector">no_animation </span><span class="token punctuation">{</span>
  <span class="token property">animation-name</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/*
* Clearfix
*
* Clears floats inside the container
*/</span>
<span class="token keyword">@mixin</span> <span class="token selector">clearfix </span><span class="token punctuation">{</span>
  *<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>

  <span class="token selector"><span class="token parent important">&amp;</span>:after, <span class="token parent important">&amp;</span>:before </span><span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h5 id="base-scss"><a href="#base-scss" class="header-anchor">#</a> _base.scss</h5> <ul><li>默认样式
<ul><li>基础状态下的按钮样式
<ul><li>在鼠标的不同交互状态下改变的样式
<ul><li>:visited</li> <li>:active</li> <li>:hover</li> <li>:focus</li> <li>:disabled</li></ul></li></ul></li> <li>禁用状态的按钮样式
<ul><li>在鼠标的不同交互状态下改变的样式
<ul><li>:visited</li> <li>:active</li> <li>:hover</li> <li>:focus</li> <li>:disabled</li></ul></li></ul></li> <li>基本文字排版 <em>Base Button Tyography</em></li></ul></li> <li>不同的常规按钮的颜色生命，比如 .button-primary
<ul><li>在鼠标的不同交互状态下改变的样式
<ul><li>:visited</li> <li>:active</li> <li>:hover</li> <li>:focus</li> <li>:disabled</li></ul></li></ul></li></ul> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token comment">/*
* Base Button Style
*
* The default values for the .button class
*/</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span> </span><span class="token punctuation">{</span> <span class="token comment">// 通过 `#{}` 插值语句可以在选择器或属性名中使用变量</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-font-color</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-bgcolor</span><span class="token punctuation">;</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-bgcolor</span><span class="token punctuation">;</span> <span class="token comment">// 颜色</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-font-weight</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-font-size</span><span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-font-family</span><span class="token punctuation">;</span> <span class="token comment">// 字体</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-height</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-height</span><span class="token punctuation">;</span> <span class="token comment">// 对齐 // 不需要设死宽度</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 <span class="token variable">$ubtn-height</span><span class="token punctuation">;</span> <span class="token comment">// 内边距采用行高，</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>

  <span class="token comment">// Compass Mixins</span>
  <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$ubtn-use-compass</span> </span><span class="token punctuation">{</span>
    <span class="token keyword">@include</span> <span class="token function">transition-property</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">@include</span> <span class="token function">transition-duration</span><span class="token punctuation">(</span>.3s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">@else</span> <span class="token punctuation">{</span>  <span class="token comment">// 交互变化动画</span>
    <span class="token property">transition-property</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>
    <span class="token property">transition-duration</span><span class="token punctuation">:</span>.3s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>


  <span class="token selector"><span class="token parent important">&amp;</span>:visited </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-font-color</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>:hover,
  <span class="token parent important">&amp;</span>:focus </span><span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span><span class="token variable">$ubtn-bgcolor</span><span class="token punctuation">,</span> 3%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector"><span class="token parent important">&amp;</span>:active,
  <span class="token parent important">&amp;</span>.active,
  <span class="token parent important">&amp;</span>.is-active </span><span class="token punctuation">{</span>
    <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 1px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">desaturate</span><span class="token punctuation">(</span><span class="token variable">$ubtn-bgcolor</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">darken</span><span class="token punctuation">(</span><span class="token variable">$ubtn-bgcolor</span><span class="token punctuation">,</span> 12%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">darken</span><span class="token punctuation">(</span><span class="token variable">$ubtn-bgcolor</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Compass Mixin</span>
    <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$ubtn-use-compass</span> </span><span class="token punctuation">{</span>
      <span class="token keyword">@include</span> <span class="token function">transition-duration</span><span class="token punctuation">(</span>0s<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">@include</span> <span class="token function">box-shadow</span><span class="token punctuation">(</span>inset 0 1px 3px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">@else</span> <span class="token punctuation">{</span>
      <span class="token property">transition-duration</span><span class="token punctuation">:</span> 0s<span class="token punctuation">;</span>
      <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 1px 3px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/*
  * Disabled State
  *
  * The disabled state uses the class .disabled, is-disabled,
  * and the form attribute disabled=&quot;disabled&quot;.
  * The use of !important is only added because this is a state
  * that must be applied to all buttons when in a disabled state.
  */</span>
  <span class="token selector"><span class="token parent important">&amp;</span>.disabled,
  <span class="token parent important">&amp;</span>.is-disabled,
  <span class="token parent important">&amp;</span>:disabled </span><span class="token punctuation">{</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #EEE <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #DDD <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 1px 1px <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #CCC <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> default <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">appearance</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>

    <span class="token comment">// Compass Mixin</span>
    <span class="token keyword">@if</span> <span class="token selector"><span class="token variable">$ubtn-use-compass</span> </span><span class="token punctuation">{</span>
      <span class="token keyword">@include</span> <span class="token function">box-shadow</span><span class="token punctuation">(</span>0 1px 2px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .10<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">@include</span> <span class="token function">opacity</span><span class="token punctuation">(</span>.8 <span class="token important">!important</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">else </span><span class="token punctuation">{</span>
      <span class="token property">box-shadow</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
      <span class="token property">opacity</span><span class="token punctuation">:</span>.8 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">/*
* Base Button Tyography
*
*/</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-uppercase </span><span class="token punctuation">{</span>
  <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-lowercase </span><span class="token punctuation">{</span>
  <span class="token property">text-transform</span><span class="token punctuation">:</span> lowercase<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-capitalize </span><span class="token punctuation">{</span>
  <span class="token property">text-transform</span><span class="token punctuation">:</span> capitalize<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-small-caps </span><span class="token punctuation">{</span>
  <span class="token property">font-variant</span><span class="token punctuation">:</span> small-caps<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-icon-txt-large </span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 36px <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
* Base padding
*
*/</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-width-small </span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">/*
* Base Colors
*
* Create colors for buttons
* (.button-primary, .button-secondary, etc.)
*/</span>  <span class="token comment">// @each指令能够遍历数组中的每一项。</span>
<span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$ubtn-color</span> in <span class="token variable">$ubtn-colors</span> </span><span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$ubtn-name</span></span><span class="token punctuation">:</span> <span class="token function">nth</span><span class="token punctuation">(</span><span class="token variable">$ubtn-color</span><span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// nth函数可以直接访问数组中的某一项；</span>
  <span class="token property"><span class="token variable">$ubtn-background</span></span><span class="token punctuation">:</span> <span class="token function">nth</span><span class="token punctuation">(</span><span class="token variable">$ubtn-color</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property"><span class="token variable">$ubtn-color</span></span><span class="token punctuation">:</span> <span class="token function">nth</span><span class="token punctuation">(</span><span class="token variable">$ubtn-color</span><span class="token punctuation">,</span> 3<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Crete class for .button-primary</span>
  <span class="token comment">// and legacy flat .button-primary-flat</span>
  <span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-<span class="token variable">#{$ubtn-name}</span>,
  <span class="token variable">#{$ubtn-namespace}</span>-<span class="token variable">#{$ubtn-name}</span>-flat </span><span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-background</span><span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-background</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-color</span><span class="token punctuation">;</span>

    <span class="token selector"><span class="token parent important">&amp;</span>:visited </span><span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-color</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token parent important">&amp;</span>:hover,
    <span class="token parent important">&amp;</span>:focus </span><span class="token punctuation">{</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span><span class="token variable">$ubtn-background</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span><span class="token variable">$ubtn-background</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ubtn-color</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token parent important">&amp;</span>:active,
    <span class="token parent important">&amp;</span>.active,
    <span class="token parent important">&amp;</span>.is-active </span><span class="token punctuation">{</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">desaturate</span><span class="token punctuation">(</span><span class="token variable">$ubtn-background</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">desaturate</span><span class="token punctuation">(</span><span class="token variable">$ubtn-background</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">darken</span><span class="token punctuation">(</span><span class="token variable">$ubtn-background</span><span class="token punctuation">,</span> 10%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br></div></div><h5 id="layout-scss"><a href="#layout-scss" class="header-anchor">#</a> _layout.scss</h5> <p>按钮的布局样式：块级设置，因为默认按钮都是 <code>inline-block</code></p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token comment">/*
* Base Layout Styles
*
* Very Miminal Layout Styles
*/</span>
<span class="token selector"><span class="token variable">#{$ubtn-namespace}</span>-block,
<span class="token variable">#{$ubtn-namespace}</span>-stacked </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="常规按钮"><a href="#常规按钮" class="header-anchor">#</a> 常规按钮</h4> <h2 id="_3-小结"><a href="#_3-小结" class="header-anchor">#</a> 3. 小结</h2> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://gist.github.com/quexer/3619237" target="_blank" rel="noopener noreferrer">创建插件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 很详细的关于 jQuery 创建插件的方方面面，包括数据、事件编写等最佳实践，其中命名空间这块挺值得学习的，如何更好地注册，更彻底的卸载。</li> <li><a href="https://www.zhangxinxu.com/wordpress/2013/04/qunit-javascript-unit-test-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" target="_blank" rel="noopener noreferrer">边译边学-QUnit下的JavaScript自动化单元测试<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/15/2021, 4:32:40 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.139a155b.js" defer></script><script src="/Notebook/assets/js/4.e8b70bd9.js" defer></script><script src="/Notebook/assets/js/63.db776fb0.js" defer></script>
  </body>
</html>
