<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Canvas 使用与踩坑总结（笔记） | Naluduo&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/Notebook/images/logo.jpeg">
    <meta name="description" content="📝每天记录一点点">
    <link rel="preload" href="/Notebook/assets/css/0.styles.8f4327af.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.139a155b.js" as="script"><link rel="preload" href="/Notebook/assets/js/4.e8b70bd9.js" as="script"><link rel="preload" href="/Notebook/assets/js/60.bd7eaa9a.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/10.1fae0c9b.js"><link rel="prefetch" href="/Notebook/assets/js/100.d0da51c4.js"><link rel="prefetch" href="/Notebook/assets/js/101.f5af623a.js"><link rel="prefetch" href="/Notebook/assets/js/102.b3d42b74.js"><link rel="prefetch" href="/Notebook/assets/js/103.8f17785a.js"><link rel="prefetch" href="/Notebook/assets/js/104.056d18e2.js"><link rel="prefetch" href="/Notebook/assets/js/105.50f362f2.js"><link rel="prefetch" href="/Notebook/assets/js/106.2293abd8.js"><link rel="prefetch" href="/Notebook/assets/js/107.776d74d9.js"><link rel="prefetch" href="/Notebook/assets/js/108.562a5345.js"><link rel="prefetch" href="/Notebook/assets/js/109.9897ab89.js"><link rel="prefetch" href="/Notebook/assets/js/11.c1323ed6.js"><link rel="prefetch" href="/Notebook/assets/js/110.5986b585.js"><link rel="prefetch" href="/Notebook/assets/js/111.163a9a13.js"><link rel="prefetch" href="/Notebook/assets/js/112.ab7e15ac.js"><link rel="prefetch" href="/Notebook/assets/js/113.11bd753c.js"><link rel="prefetch" href="/Notebook/assets/js/114.53962168.js"><link rel="prefetch" href="/Notebook/assets/js/115.3a5ada66.js"><link rel="prefetch" href="/Notebook/assets/js/116.cf65da6f.js"><link rel="prefetch" href="/Notebook/assets/js/117.26108558.js"><link rel="prefetch" href="/Notebook/assets/js/118.aa336fda.js"><link rel="prefetch" href="/Notebook/assets/js/119.7ceb5577.js"><link rel="prefetch" href="/Notebook/assets/js/12.4e58256f.js"><link rel="prefetch" href="/Notebook/assets/js/120.4f14c30d.js"><link rel="prefetch" href="/Notebook/assets/js/121.19f5571d.js"><link rel="prefetch" href="/Notebook/assets/js/122.1d0669c3.js"><link rel="prefetch" href="/Notebook/assets/js/123.a7f30f7e.js"><link rel="prefetch" href="/Notebook/assets/js/124.fff11adb.js"><link rel="prefetch" href="/Notebook/assets/js/125.b56646a4.js"><link rel="prefetch" href="/Notebook/assets/js/126.1c59b3bd.js"><link rel="prefetch" href="/Notebook/assets/js/127.fcb506e8.js"><link rel="prefetch" href="/Notebook/assets/js/128.5b580b8f.js"><link rel="prefetch" href="/Notebook/assets/js/129.84ae003a.js"><link rel="prefetch" href="/Notebook/assets/js/13.1c4e6be1.js"><link rel="prefetch" href="/Notebook/assets/js/130.6dcaf514.js"><link rel="prefetch" href="/Notebook/assets/js/131.a42f7c47.js"><link rel="prefetch" href="/Notebook/assets/js/132.04f8a016.js"><link rel="prefetch" href="/Notebook/assets/js/133.57281f84.js"><link rel="prefetch" href="/Notebook/assets/js/134.ecd654d6.js"><link rel="prefetch" href="/Notebook/assets/js/135.63a2dbad.js"><link rel="prefetch" href="/Notebook/assets/js/136.d99e29b3.js"><link rel="prefetch" href="/Notebook/assets/js/137.50d7b01d.js"><link rel="prefetch" href="/Notebook/assets/js/138.4390b86c.js"><link rel="prefetch" href="/Notebook/assets/js/139.2d9ce853.js"><link rel="prefetch" href="/Notebook/assets/js/14.0443782b.js"><link rel="prefetch" href="/Notebook/assets/js/140.4a2047e8.js"><link rel="prefetch" href="/Notebook/assets/js/141.b3704c9c.js"><link rel="prefetch" href="/Notebook/assets/js/142.4d142b47.js"><link rel="prefetch" href="/Notebook/assets/js/143.f15872bb.js"><link rel="prefetch" href="/Notebook/assets/js/144.679f0a2d.js"><link rel="prefetch" href="/Notebook/assets/js/145.2106194a.js"><link rel="prefetch" href="/Notebook/assets/js/146.605f3d79.js"><link rel="prefetch" href="/Notebook/assets/js/147.3682320c.js"><link rel="prefetch" href="/Notebook/assets/js/148.cbcbff7e.js"><link rel="prefetch" href="/Notebook/assets/js/149.c2a26094.js"><link rel="prefetch" href="/Notebook/assets/js/15.de1f84e8.js"><link rel="prefetch" href="/Notebook/assets/js/150.0086324a.js"><link rel="prefetch" href="/Notebook/assets/js/151.5f722522.js"><link rel="prefetch" href="/Notebook/assets/js/152.d3eaf2c8.js"><link rel="prefetch" href="/Notebook/assets/js/153.a1864660.js"><link rel="prefetch" href="/Notebook/assets/js/154.d1ae6046.js"><link rel="prefetch" href="/Notebook/assets/js/155.eb0fccff.js"><link rel="prefetch" href="/Notebook/assets/js/156.9db0381e.js"><link rel="prefetch" href="/Notebook/assets/js/157.0b4984af.js"><link rel="prefetch" href="/Notebook/assets/js/158.43189b18.js"><link rel="prefetch" href="/Notebook/assets/js/159.812f06b9.js"><link rel="prefetch" href="/Notebook/assets/js/16.2ea274b4.js"><link rel="prefetch" href="/Notebook/assets/js/160.1f44d433.js"><link rel="prefetch" href="/Notebook/assets/js/161.21852224.js"><link rel="prefetch" href="/Notebook/assets/js/162.9bb18d96.js"><link rel="prefetch" href="/Notebook/assets/js/163.0d4bb60d.js"><link rel="prefetch" href="/Notebook/assets/js/164.5ddcb334.js"><link rel="prefetch" href="/Notebook/assets/js/165.4c394b31.js"><link rel="prefetch" href="/Notebook/assets/js/166.62ee9f20.js"><link rel="prefetch" href="/Notebook/assets/js/167.3c668713.js"><link rel="prefetch" href="/Notebook/assets/js/168.bae89f34.js"><link rel="prefetch" href="/Notebook/assets/js/169.efed8b05.js"><link rel="prefetch" href="/Notebook/assets/js/17.881f6ab6.js"><link rel="prefetch" href="/Notebook/assets/js/170.3d8e1b73.js"><link rel="prefetch" href="/Notebook/assets/js/171.2c9b4191.js"><link rel="prefetch" href="/Notebook/assets/js/172.7dda8427.js"><link rel="prefetch" href="/Notebook/assets/js/173.ce6698c1.js"><link rel="prefetch" href="/Notebook/assets/js/174.1ee6dc45.js"><link rel="prefetch" href="/Notebook/assets/js/175.77f2eea7.js"><link rel="prefetch" href="/Notebook/assets/js/176.fbb0fa4e.js"><link rel="prefetch" href="/Notebook/assets/js/177.82817bff.js"><link rel="prefetch" href="/Notebook/assets/js/178.616bd587.js"><link rel="prefetch" href="/Notebook/assets/js/179.6dc3a213.js"><link rel="prefetch" href="/Notebook/assets/js/18.0e13bc5c.js"><link rel="prefetch" href="/Notebook/assets/js/180.55c85341.js"><link rel="prefetch" href="/Notebook/assets/js/181.fc3d81b6.js"><link rel="prefetch" href="/Notebook/assets/js/182.8790a49f.js"><link rel="prefetch" href="/Notebook/assets/js/183.22912b56.js"><link rel="prefetch" href="/Notebook/assets/js/184.a3cc6104.js"><link rel="prefetch" href="/Notebook/assets/js/185.8bad0700.js"><link rel="prefetch" href="/Notebook/assets/js/186.9aca737e.js"><link rel="prefetch" href="/Notebook/assets/js/187.1465e2fb.js"><link rel="prefetch" href="/Notebook/assets/js/188.bd29e48b.js"><link rel="prefetch" href="/Notebook/assets/js/189.0d6a0652.js"><link rel="prefetch" href="/Notebook/assets/js/19.a428bfa6.js"><link rel="prefetch" href="/Notebook/assets/js/190.c8ff6ab9.js"><link rel="prefetch" href="/Notebook/assets/js/191.116dc665.js"><link rel="prefetch" href="/Notebook/assets/js/192.3d558a9e.js"><link rel="prefetch" href="/Notebook/assets/js/193.4d856925.js"><link rel="prefetch" href="/Notebook/assets/js/194.85e0627b.js"><link rel="prefetch" href="/Notebook/assets/js/195.ad78bbd6.js"><link rel="prefetch" href="/Notebook/assets/js/196.8c7c9b72.js"><link rel="prefetch" href="/Notebook/assets/js/197.447f0a00.js"><link rel="prefetch" href="/Notebook/assets/js/198.cfabe606.js"><link rel="prefetch" href="/Notebook/assets/js/199.89482b48.js"><link rel="prefetch" href="/Notebook/assets/js/2.17a0eab0.js"><link rel="prefetch" href="/Notebook/assets/js/20.3106c5a5.js"><link rel="prefetch" href="/Notebook/assets/js/200.c186e0f9.js"><link rel="prefetch" href="/Notebook/assets/js/201.b6bfc826.js"><link rel="prefetch" href="/Notebook/assets/js/202.c1f56d61.js"><link rel="prefetch" href="/Notebook/assets/js/203.55fe1aa3.js"><link rel="prefetch" href="/Notebook/assets/js/204.ebd5e2d4.js"><link rel="prefetch" href="/Notebook/assets/js/205.71b72bf6.js"><link rel="prefetch" href="/Notebook/assets/js/206.bd18bc7f.js"><link rel="prefetch" href="/Notebook/assets/js/207.d4d69acd.js"><link rel="prefetch" href="/Notebook/assets/js/208.222b7876.js"><link rel="prefetch" href="/Notebook/assets/js/209.f25452d4.js"><link rel="prefetch" href="/Notebook/assets/js/21.76dba99d.js"><link rel="prefetch" href="/Notebook/assets/js/210.3393aed8.js"><link rel="prefetch" href="/Notebook/assets/js/211.fb8cb7a1.js"><link rel="prefetch" href="/Notebook/assets/js/212.344d00e0.js"><link rel="prefetch" href="/Notebook/assets/js/213.a51629c4.js"><link rel="prefetch" href="/Notebook/assets/js/214.d97e28ee.js"><link rel="prefetch" href="/Notebook/assets/js/215.66576ead.js"><link rel="prefetch" href="/Notebook/assets/js/216.cbd47b9d.js"><link rel="prefetch" href="/Notebook/assets/js/217.115d7a12.js"><link rel="prefetch" href="/Notebook/assets/js/218.d1b6e62f.js"><link rel="prefetch" href="/Notebook/assets/js/219.f2bf2e5f.js"><link rel="prefetch" href="/Notebook/assets/js/22.a03922de.js"><link rel="prefetch" href="/Notebook/assets/js/220.8df2573e.js"><link rel="prefetch" href="/Notebook/assets/js/221.3d8ee874.js"><link rel="prefetch" href="/Notebook/assets/js/222.8a4e6ab3.js"><link rel="prefetch" href="/Notebook/assets/js/223.e8f7051b.js"><link rel="prefetch" href="/Notebook/assets/js/224.f864e8f4.js"><link rel="prefetch" href="/Notebook/assets/js/225.30413761.js"><link rel="prefetch" href="/Notebook/assets/js/226.c2f2286f.js"><link rel="prefetch" href="/Notebook/assets/js/227.d7346a90.js"><link rel="prefetch" href="/Notebook/assets/js/228.6066eeb2.js"><link rel="prefetch" href="/Notebook/assets/js/229.0102fdc3.js"><link rel="prefetch" href="/Notebook/assets/js/23.685dee89.js"><link rel="prefetch" href="/Notebook/assets/js/230.c21b14f8.js"><link rel="prefetch" href="/Notebook/assets/js/231.9165f00e.js"><link rel="prefetch" href="/Notebook/assets/js/232.a7474466.js"><link rel="prefetch" href="/Notebook/assets/js/233.667bd498.js"><link rel="prefetch" href="/Notebook/assets/js/234.b7eb4d16.js"><link rel="prefetch" href="/Notebook/assets/js/235.0edef63f.js"><link rel="prefetch" href="/Notebook/assets/js/236.076754ee.js"><link rel="prefetch" href="/Notebook/assets/js/237.6527bc02.js"><link rel="prefetch" href="/Notebook/assets/js/238.7aa882f3.js"><link rel="prefetch" href="/Notebook/assets/js/239.71ad3f6e.js"><link rel="prefetch" href="/Notebook/assets/js/24.84834785.js"><link rel="prefetch" href="/Notebook/assets/js/240.42d36cc0.js"><link rel="prefetch" href="/Notebook/assets/js/241.fba85183.js"><link rel="prefetch" href="/Notebook/assets/js/242.d652773d.js"><link rel="prefetch" href="/Notebook/assets/js/243.dd6c78c5.js"><link rel="prefetch" href="/Notebook/assets/js/244.da300c6d.js"><link rel="prefetch" href="/Notebook/assets/js/245.1ab30248.js"><link rel="prefetch" href="/Notebook/assets/js/246.b1de7d1b.js"><link rel="prefetch" href="/Notebook/assets/js/247.17c60f57.js"><link rel="prefetch" href="/Notebook/assets/js/248.f3e9919e.js"><link rel="prefetch" href="/Notebook/assets/js/249.9b68ff42.js"><link rel="prefetch" href="/Notebook/assets/js/25.9c4dea8d.js"><link rel="prefetch" href="/Notebook/assets/js/250.20e586ab.js"><link rel="prefetch" href="/Notebook/assets/js/251.91974a71.js"><link rel="prefetch" href="/Notebook/assets/js/252.4b90ead2.js"><link rel="prefetch" href="/Notebook/assets/js/253.49a92048.js"><link rel="prefetch" href="/Notebook/assets/js/254.8abd7868.js"><link rel="prefetch" href="/Notebook/assets/js/255.874d4cfe.js"><link rel="prefetch" href="/Notebook/assets/js/256.c42da90b.js"><link rel="prefetch" href="/Notebook/assets/js/257.574a4463.js"><link rel="prefetch" href="/Notebook/assets/js/258.9dfecce5.js"><link rel="prefetch" href="/Notebook/assets/js/259.5fb8371d.js"><link rel="prefetch" href="/Notebook/assets/js/26.de8bed1f.js"><link rel="prefetch" href="/Notebook/assets/js/260.8cb0b9f2.js"><link rel="prefetch" href="/Notebook/assets/js/261.0320ad16.js"><link rel="prefetch" href="/Notebook/assets/js/262.7db236d1.js"><link rel="prefetch" href="/Notebook/assets/js/263.968b439e.js"><link rel="prefetch" href="/Notebook/assets/js/264.50a7aa29.js"><link rel="prefetch" href="/Notebook/assets/js/265.71a06556.js"><link rel="prefetch" href="/Notebook/assets/js/266.6c59b012.js"><link rel="prefetch" href="/Notebook/assets/js/267.aeb43b9d.js"><link rel="prefetch" href="/Notebook/assets/js/268.a2929ce6.js"><link rel="prefetch" href="/Notebook/assets/js/269.26707ae0.js"><link rel="prefetch" href="/Notebook/assets/js/27.23c0d0bb.js"><link rel="prefetch" href="/Notebook/assets/js/270.b8610d2f.js"><link rel="prefetch" href="/Notebook/assets/js/271.bda5e283.js"><link rel="prefetch" href="/Notebook/assets/js/272.e49151e7.js"><link rel="prefetch" href="/Notebook/assets/js/273.4cfeb2d1.js"><link rel="prefetch" href="/Notebook/assets/js/274.60fe8724.js"><link rel="prefetch" href="/Notebook/assets/js/275.b5514094.js"><link rel="prefetch" href="/Notebook/assets/js/276.202e3526.js"><link rel="prefetch" href="/Notebook/assets/js/277.26e46a71.js"><link rel="prefetch" href="/Notebook/assets/js/278.1c447532.js"><link rel="prefetch" href="/Notebook/assets/js/279.0b5e7a7b.js"><link rel="prefetch" href="/Notebook/assets/js/28.6f6d2ce9.js"><link rel="prefetch" href="/Notebook/assets/js/280.ba75d1ae.js"><link rel="prefetch" href="/Notebook/assets/js/281.b38f3748.js"><link rel="prefetch" href="/Notebook/assets/js/282.40c8513b.js"><link rel="prefetch" href="/Notebook/assets/js/283.a9392d6d.js"><link rel="prefetch" href="/Notebook/assets/js/284.d27a365f.js"><link rel="prefetch" href="/Notebook/assets/js/285.a628a15e.js"><link rel="prefetch" href="/Notebook/assets/js/286.fd9e7c31.js"><link rel="prefetch" href="/Notebook/assets/js/287.7a9f259d.js"><link rel="prefetch" href="/Notebook/assets/js/288.739670c2.js"><link rel="prefetch" href="/Notebook/assets/js/289.f98fd683.js"><link rel="prefetch" href="/Notebook/assets/js/29.d2e43523.js"><link rel="prefetch" href="/Notebook/assets/js/290.a16d65aa.js"><link rel="prefetch" href="/Notebook/assets/js/291.fc9bd002.js"><link rel="prefetch" href="/Notebook/assets/js/292.118fe91a.js"><link rel="prefetch" href="/Notebook/assets/js/293.6f1d9c68.js"><link rel="prefetch" href="/Notebook/assets/js/294.0bcb5275.js"><link rel="prefetch" href="/Notebook/assets/js/295.7b0fad94.js"><link rel="prefetch" href="/Notebook/assets/js/296.9f9712a5.js"><link rel="prefetch" href="/Notebook/assets/js/297.7febdd59.js"><link rel="prefetch" href="/Notebook/assets/js/298.3675462a.js"><link rel="prefetch" href="/Notebook/assets/js/299.10b010f0.js"><link rel="prefetch" href="/Notebook/assets/js/3.d4ed84ce.js"><link rel="prefetch" href="/Notebook/assets/js/30.7c1f3583.js"><link rel="prefetch" href="/Notebook/assets/js/300.115bd53b.js"><link rel="prefetch" href="/Notebook/assets/js/301.fabbbf0b.js"><link rel="prefetch" href="/Notebook/assets/js/302.57b83223.js"><link rel="prefetch" href="/Notebook/assets/js/303.4e639a46.js"><link rel="prefetch" href="/Notebook/assets/js/304.a35644ff.js"><link rel="prefetch" href="/Notebook/assets/js/305.20d8bbbe.js"><link rel="prefetch" href="/Notebook/assets/js/306.7253f469.js"><link rel="prefetch" href="/Notebook/assets/js/307.75c667f4.js"><link rel="prefetch" href="/Notebook/assets/js/308.f263e4b6.js"><link rel="prefetch" href="/Notebook/assets/js/309.db89dce5.js"><link rel="prefetch" href="/Notebook/assets/js/31.46a6d02f.js"><link rel="prefetch" href="/Notebook/assets/js/310.daa82fee.js"><link rel="prefetch" href="/Notebook/assets/js/311.8412981b.js"><link rel="prefetch" href="/Notebook/assets/js/312.525a26b3.js"><link rel="prefetch" href="/Notebook/assets/js/313.2ebb5383.js"><link rel="prefetch" href="/Notebook/assets/js/32.e657ae7e.js"><link rel="prefetch" href="/Notebook/assets/js/33.8425ca14.js"><link rel="prefetch" href="/Notebook/assets/js/34.e266fc3a.js"><link rel="prefetch" href="/Notebook/assets/js/35.189d30e1.js"><link rel="prefetch" href="/Notebook/assets/js/36.e60ffce6.js"><link rel="prefetch" href="/Notebook/assets/js/37.abdfdc7c.js"><link rel="prefetch" href="/Notebook/assets/js/38.b04368b3.js"><link rel="prefetch" href="/Notebook/assets/js/39.d2adf2bf.js"><link rel="prefetch" href="/Notebook/assets/js/40.35f710b4.js"><link rel="prefetch" href="/Notebook/assets/js/41.8815f14f.js"><link rel="prefetch" href="/Notebook/assets/js/42.f427aa0a.js"><link rel="prefetch" href="/Notebook/assets/js/43.ac86c129.js"><link rel="prefetch" href="/Notebook/assets/js/44.7dec7c54.js"><link rel="prefetch" href="/Notebook/assets/js/45.5fb385e5.js"><link rel="prefetch" href="/Notebook/assets/js/46.33c8a4cd.js"><link rel="prefetch" href="/Notebook/assets/js/47.dd20eb6f.js"><link rel="prefetch" href="/Notebook/assets/js/48.584b92ce.js"><link rel="prefetch" href="/Notebook/assets/js/49.041711a1.js"><link rel="prefetch" href="/Notebook/assets/js/5.b5d0cdd7.js"><link rel="prefetch" href="/Notebook/assets/js/50.8abc2f33.js"><link rel="prefetch" href="/Notebook/assets/js/51.89c79440.js"><link rel="prefetch" href="/Notebook/assets/js/52.34920dcb.js"><link rel="prefetch" href="/Notebook/assets/js/53.fc9689ee.js"><link rel="prefetch" href="/Notebook/assets/js/54.3e6daef2.js"><link rel="prefetch" href="/Notebook/assets/js/55.04dc507e.js"><link rel="prefetch" href="/Notebook/assets/js/56.38a79a77.js"><link rel="prefetch" href="/Notebook/assets/js/57.1a819b05.js"><link rel="prefetch" href="/Notebook/assets/js/58.24921926.js"><link rel="prefetch" href="/Notebook/assets/js/59.cb6c3a52.js"><link rel="prefetch" href="/Notebook/assets/js/6.4ad1c19d.js"><link rel="prefetch" href="/Notebook/assets/js/61.fb5959a5.js"><link rel="prefetch" href="/Notebook/assets/js/62.4ca2a61c.js"><link rel="prefetch" href="/Notebook/assets/js/63.db776fb0.js"><link rel="prefetch" href="/Notebook/assets/js/64.5862c070.js"><link rel="prefetch" href="/Notebook/assets/js/65.a562da8c.js"><link rel="prefetch" href="/Notebook/assets/js/66.9428e6a9.js"><link rel="prefetch" href="/Notebook/assets/js/67.380c3893.js"><link rel="prefetch" href="/Notebook/assets/js/68.4a1d975a.js"><link rel="prefetch" href="/Notebook/assets/js/69.f72c1c2a.js"><link rel="prefetch" href="/Notebook/assets/js/7.f18c22e1.js"><link rel="prefetch" href="/Notebook/assets/js/70.081e9efc.js"><link rel="prefetch" href="/Notebook/assets/js/71.9628b6c9.js"><link rel="prefetch" href="/Notebook/assets/js/72.fd7c0d8b.js"><link rel="prefetch" href="/Notebook/assets/js/73.ade29c87.js"><link rel="prefetch" href="/Notebook/assets/js/74.9beb3002.js"><link rel="prefetch" href="/Notebook/assets/js/75.4a0d7566.js"><link rel="prefetch" href="/Notebook/assets/js/76.82cba373.js"><link rel="prefetch" href="/Notebook/assets/js/77.cbc62dec.js"><link rel="prefetch" href="/Notebook/assets/js/78.7f360c8b.js"><link rel="prefetch" href="/Notebook/assets/js/79.fa101a6c.js"><link rel="prefetch" href="/Notebook/assets/js/8.b60843f8.js"><link rel="prefetch" href="/Notebook/assets/js/80.eff15427.js"><link rel="prefetch" href="/Notebook/assets/js/81.6cb7b0db.js"><link rel="prefetch" href="/Notebook/assets/js/82.8301875b.js"><link rel="prefetch" href="/Notebook/assets/js/83.36e9eaed.js"><link rel="prefetch" href="/Notebook/assets/js/84.6dab4e8d.js"><link rel="prefetch" href="/Notebook/assets/js/85.2698a308.js"><link rel="prefetch" href="/Notebook/assets/js/86.ef360da8.js"><link rel="prefetch" href="/Notebook/assets/js/87.768ec866.js"><link rel="prefetch" href="/Notebook/assets/js/88.ab9a859f.js"><link rel="prefetch" href="/Notebook/assets/js/89.d7a10705.js"><link rel="prefetch" href="/Notebook/assets/js/9.e93336f2.js"><link rel="prefetch" href="/Notebook/assets/js/90.ffb88a3d.js"><link rel="prefetch" href="/Notebook/assets/js/91.196c3e62.js"><link rel="prefetch" href="/Notebook/assets/js/92.c6c9f350.js"><link rel="prefetch" href="/Notebook/assets/js/93.4a2bfcd4.js"><link rel="prefetch" href="/Notebook/assets/js/94.5e133456.js"><link rel="prefetch" href="/Notebook/assets/js/95.90e64ed0.js"><link rel="prefetch" href="/Notebook/assets/js/96.e7faab2f.js"><link rel="prefetch" href="/Notebook/assets/js/97.5369d09a.js"><link rel="prefetch" href="/Notebook/assets/js/98.b3ce3ca9.js"><link rel="prefetch" href="/Notebook/assets/js/99.00453fa5.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.8f4327af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">Naluduo's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者" class="dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">
  💻大前端
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.jecyu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jecyu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/blogs/" class="nav-link">
  📖文章合集
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发者" class="dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">
  💻大前端
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/web-framework/" class="nav-link">
  🐂web 框架
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">
  🤔复盘
</a></li><li class="dropdown-item"><h4>
          ️️🧘算法修炼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/understand-the-computer/" class="nav-link">
  理解计算机
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">
  算法分类
</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">
  数据库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">
  ☁️运维
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">
  🚬测试
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">
  🌍GIS
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/tools/" class="nav-link">
  ️️🖱️工具
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">
  ️️🐛网络工程
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/game-development/" class="nav-link">
  ️️🎮游戏开发
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-language/" class="nav-link">
  🚶编程语言
</a></li><li class="dropdown-item"><!----> <a href="/Notebook/programming-paradigm/" class="nav-link">
  编程范式
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="/Notebook/math/" class="nav-link">
  𝜋数学
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="设计" class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">
  🖌️UI
</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://www.jecyu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔗Github" class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jecyu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jecyu github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/JS-Event-Loop/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JS 事件循环机制
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://naluduo233.github.io/Web-Performance-Optimization/reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微谈 Web 前端性能优化
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="canvas-使用与踩坑总结（笔记）"><a href="#canvas-使用与踩坑总结（笔记）" class="header-anchor">#</a> Canvas 使用与踩坑总结（笔记）</h1> <p>复杂例子可以查看 Arcgis 地图的在线 demo 和 echart</p> <p>通过图层的加载、移除、事件、放大等看 Canvas 是如何进行处理的，一个企业级的 canvas 实战。</p> <ul><li>切片服务是如何加载的，如何通过比例尺来使用 canvas 进行对应的缩放处理的。</li></ul> <h2 id="入门"><a href="#入门" class="header-anchor">#</a> 入门</h2> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>CSS 属性设置 width、height<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 使用 JS 来设置宽高</span>
      <span class="token comment">// 尽量使用 HTML 的width 和 height 属性或者直接使用 JS 动态来设置宽高，不要使用 CSS 设置</span>
      <span class="token keyword">const</span> cx <span class="token operator">=</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> cy <span class="token operator">=</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;rgb(255, 255, 255)&quot;</span><span class="token punctuation">;</span>
      context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>fill()</td> <td>填充路径</td></tr> <tr><td>stroke()</td> <td>描边</td></tr> <tr><td>arc()</td> <td>创建圆弧</td></tr> <tr><td>rect()</td> <td>创建矩形</td></tr> <tr><td>fillRect()</td> <td>绘制矩形路径区域</td></tr> <tr><td>strokeRect()</td> <td>绘制矩形路径描边</td></tr> <tr><td>clearRect()</td> <td>在给定的矩形内清除指定的像素</td></tr> <tr><td>arcTo()</td> <td>创建两切线之间的弧/曲线</td></tr> <tr><td>beginPath()</td> <td>起始一条路径，或重置当前路径</td></tr> <tr><td>moveTo()</td> <td>把路径移动到画布中的指定点，不创建线条</td></tr> <tr><td>lineTo()</td> <td>添加一个新点，然后在画布中创建从该点到最后指定点的线条</td></tr> <tr><td>closePath()</td> <td>创建从当前点回到起始点的路径</td></tr> <tr><td>clip()</td> <td>从原始画布剪切任意形状和尺寸的区域</td></tr> <tr><td>quadraticCurveTo()</td> <td>创建二次方贝塞尔曲线</td></tr> <tr><td>bezierCurveTo()</td> <td>创建三次方贝塞尔曲线</td></tr> <tr><td>isPointInPath()</td> <td>如果指定的点位于当前路径中，则返回 true，否则返回 false</td></tr></tbody></table> <p><img src="/Notebook/assets/img/2020-10-23-20-45-17.86953f93.png" alt=""></p> <p>开始路径，可以想象用 photoshop 钢笔路径</p> <ul><li><code>stroke()</code> ：描边</li> <li><code>fill()</code> ：填充</li></ul> <p>我们可以通过 <code>strokeStyle</code> 属性和 <code>fillStyle</code> 属性来设置描边和填充的颜色。这里不仅可以设置单一的颜色，还可以设置渐变。</p> <ul><li><code>arc()</code> 方法创建弧/曲线（用于创建圆或部分圆）。</li></ul> <p>context.arc(x,y,r,sAngle,eAngle,counterclockwise);
x：圆心的 x 坐标
y：圆心的 y 坐标
r：圆的半径
sAngle：起始角，以弧度计（弧的圆形的三点钟位置是 0 度）
eAngle：结束角，以弧度计
counterclockwise：可选。规定应该逆时针还是顺时针绘图。false 为顺时针，true 为逆时针</p> <p><img src="data:image/png;base64,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" alt=""></p> <ul><li>如果没有 moveTo，那么第一次 lineTo 的就视为 moveTo</li></ul> <h3 id="直线"><a href="#直线" class="header-anchor">#</a> 直线</h3> <table><thead><tr><th>样式</th> <th>描述</th></tr></thead> <tbody><tr><td>lineCap</td> <td>设置或返回线条的结束端点样式</td></tr> <tr><td>lineJoin</td> <td>设置或返回两条线相交时，所创建的拐角类型</td></tr> <tr><td>lineWidth</td> <td>设置或返回当前的线条宽度</td></tr> <tr><td>miterLimit</td> <td>设置或返回最大斜接长度</td></tr></tbody></table> <h3 id="绘制矩形"><a href="#绘制矩形" class="header-anchor">#</a> 绘制矩形</h3> <ul><li><code>fillRect(x,y,width,height)</code>：绘制一个实心矩形</li> <li><code>strokeRect(x,y,width,height)</code>：绘制一个空心矩形</li></ul> <p>我们可以通过 fillStyle() 和 strokeStyle() 来设置填充的颜色和描边的颜色。</p> <h3 id="颜色、样式和阴影"><a href="#颜色、样式和阴影" class="header-anchor">#</a> 颜色、样式和阴影</h3> <h4 id="设置阴影"><a href="#设置阴影" class="header-anchor">#</a> 设置阴影</h4> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>fillStyle</td> <td>设置或返回用于填充绘画的颜色、渐变或模式</td></tr> <tr><td>strokeStyle</td> <td>设置或返回用于笔触的颜色、渐变或模式</td></tr> <tr><td>shadowColor</td> <td>设置或返回用于阴影的颜色</td></tr> <tr><td>shadowBlur</td> <td>设置或返回用于阴影的模糊级别</td></tr> <tr><td>shadowOffsetX</td> <td>设置或返回阴影距形状的水平距离</td></tr> <tr><td>shadowOffsetY</td> <td>设置或返回阴影距形状的垂直距离</td></tr></tbody></table> <h4 id="设置渐变"><a href="#设置渐变" class="header-anchor">#</a> 设置渐变</h4> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>createLinearGradient()</td> <td>创建线性渐变（用在画布内容上）</td></tr> <tr><td>createPattern()</td> <td>在指定的方向上重复指定的元素</td></tr> <tr><td>createRadialGradient()</td> <td>创建放射状/环形的渐变（用在画布内容上）</td></tr> <tr><td>addColorStop()</td> <td>规定渐变对象中的颜色和停止位置</td></tr></tbody></table> <p>context.createLinearGradient(x0, y0, x1, y1);</p> <ul><li>x0：开始渐变的 x 坐标</li> <li>y0：开始渐变的 y 坐标</li> <li>x1：结束渐变的 x 坐标</li> <li>y1：结束渐变的 y 坐标</li></ul> <p><code>context.createLinearGradient()</code> 的参数是两个点的坐标，这两个点的连线实际上就是渐变的方向。我们可以使用 <code>addColorStop</code> 方法来设置渐变的颜色。</p> <p><code>gradient.addColorStop(stop, color)</code>：</p> <ul><li><code>stop</code>：介于 0.0 与 1.0 之间的值，表示渐变中开始与结束之间的位置。</li> <li><code>color</code>：在结束位置显示的 CSS 颜色值</li></ul> <h3 id="图形转换"><a href="#图形转换" class="header-anchor">#</a> 图形转换</h3> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>scale()</code></td> <td>缩放当前绘图至更大或更小</td></tr> <tr><td><code>rotate()</code></td> <td>旋转当前绘图</td></tr> <tr><td><code>translate()</code></td> <td>重新映射画布上的 (0,0) 位置</td></tr> <tr><td><code>transform()</code></td> <td>替换绘图的当前转换矩阵</td></tr> <tr><td><code>setTransform()</code></td> <td>将当前转换重置为单位矩阵，然后运行 <code>transform()</code></td></tr></tbody></table> <p>画布旋转、缩放，对应地图的旋转，缩放。</p> <p><code>rotate()</code> 方法 <code>context.rotate(angle)</code>;</p> <ul><li>angle : 旋转角度，以弧度计。 如需将角度转换为弧度，请使用 degrees<em>Math.PI/180 公式进行计算。 举例：如需旋转 5 度，可规定下面的公式：5</em>Math.PI/180。</li></ul> <p>在进行图形转换的时候，我们需要画布旋转，然后再绘制图形。</p> <p><strong>这样的结果是，我们使用的图形变换的方法都是作用在画布上的，既然对画布进行了变换，那么在接下来绘制的图形都会变换。这点是需要注意点。</strong></p> <p>比如，我对画布使用了 <code>rotate(20 * Math.PI/180)</code> 方法，就是将画布旋转了 20 度，然后之后绘制的图形都会旋转 20 度。</p> <h3 id="图像绘制"><a href="#图像绘制" class="header-anchor">#</a> 图像绘制</h3> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>drawImage()</td> <td>向画布上绘制图像、画布或视频</td></tr></tbody></table> <p><code>context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);</code></p> <ul><li><code>img</code>：规定要使用的图像、画布或视频</li> <li><code>sx</code>：可选。开始剪切的 x 坐标位置</li> <li><code>sy</code>：可选。开始剪切的 y 坐标位置</li> <li><code>swidth</code>：可选。被剪切图像的宽度</li> <li><code>sheight</code>：可选。被剪切图像的高度</li> <li><code>x</code>：在画布上放置图像的 x 坐标位置</li> <li><code>y</code>：在画布上放置图像的 y 坐标位置</li> <li><code>width</code>：可选。要使用的图像的宽度（伸展或缩小图像）</li> <li><code>height</code>：可选。要使用的图像的高度（伸展或缩小图像）</li></ul> <p>炫酷的背景</p> <ul><li>背景
单一颜色
渐变
平铺</li> <li>炫酷
动
随机</li> <li>特效（与用户交互）
鼠标跟随
视觉差</li></ul> <h2 id="进阶"><a href="#进阶" class="header-anchor">#</a> 进阶</h2> <h3 id="怎么实现随机粒子"><a href="#怎么实现随机粒子" class="header-anchor">#</a> 怎么实现随机粒子</h3> <ul><li>粒子</li> <li>规则图形</li> <li>随机</li> <li>数量多</li></ul> <p>JS + Canvas 动画，JS 捕获鼠标事件，然后动态绘制。</p> <p>至于动画是不断擦除和绘制的过程，就像以前翻看的小人书，翻页动画。</p> <p>应用例子：要素图层的渲染器设置移动。</p> <h4 id="怎么使的随机例子动起来"><a href="#怎么使的随机例子动起来" class="header-anchor">#</a> 怎么使的随机例子动起来</h4> <p>Canvas 制作动画是一个不断擦除再重绘（可以通过 clearRect 重绘某一部分）的过程，跟原始实现动画的方式类似。在纸片上画每一帧，然后以很快的速度翻动小本本，就会有动画的效果。</p> <p>现在我们实现动画需要在很短的时间内不断的清除内容再重新绘制，新的图形和原先清除的图形之间有某种位置关系，速度足够的话，我们就会看到动画的效果。</p> <p><strong>应用例子</strong>：可以参考百度地图的人口迁入迁出是如何实现动画效果。</p> <h3 id="使你的鼠标和屏幕互动"><a href="#使你的鼠标和屏幕互动" class="header-anchor">#</a> 使你的鼠标和屏幕互动</h3> <ol><li>创建 Cavans 元素，设置参数</li> <li>鼠标移动事件，将坐标信息 push 到数组</li> <li>设置颜色</li> <li>设置动画 <code>animate()</code> 函数</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>使你的鼠标和屏幕互动<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">*</span> <span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #000000<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">const</span> ctx <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> content <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token constant">WIDTH</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token constant">HEIGHT</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token constant">WIDTH</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token constant">HEIGHT</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> para <span class="token operator">=</span> <span class="token punctuation">{</span>
        num<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        color<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 颜色 如果是 false 则是随机渐变颜色</span>
        r<span class="token operator">:</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token comment">// 圆每次增加的半径</span>
        o<span class="token operator">:</span> <span class="token number">0.09</span><span class="token punctuation">,</span> <span class="token comment">// 判断圆消失的条件，数值越大，消失的越快</span>
        a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> color<span class="token punctuation">,</span> color2<span class="token punctuation">;</span>
      <span class="token keyword">const</span> round_arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 存放圆的数组</span>

      <span class="token comment">// 鼠标事件</span>
      window<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> mouseX <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
        <span class="token keyword">const</span> mouseY <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>

        round_arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          mouseX<span class="token punctuation">,</span>
          mouseY<span class="token punctuation">,</span>
          r<span class="token operator">:</span> para<span class="token punctuation">.</span>r<span class="token punctuation">,</span> <span class="token comment">// 设置半径每次增大的数值</span>
          o<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 判断圆消失的条件，数值越大，消失得越快</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 判断参数是否设置了 color，如果设置了 color，就使用该值</span>
      <span class="token comment">// 如果参数中的 color 为 fasle，那么就使用随机的颜色</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>para<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        color2 <span class="token operator">=</span> para<span class="token punctuation">.</span>color<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        color <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">360</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 动画</span>
      <span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>para<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          color <span class="token operator">+=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
          color2 <span class="token operator">=</span> <span class="token string">&quot;hsl(&quot;</span> <span class="token operator">+</span> color <span class="token operator">+</span> <span class="token string">&quot;,100%,80%)&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        content<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">WIDTH</span><span class="token punctuation">,</span> <span class="token constant">HEIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> round_arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          content<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> color2<span class="token punctuation">;</span>
          content<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          content<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>
            round_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mouseX<span class="token punctuation">,</span>
            round_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mouseY<span class="token punctuation">,</span>
            round_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span>
            <span class="token number">0</span><span class="token punctuation">,</span>
            Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          content<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          content<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          round_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">+=</span> para<span class="token punctuation">.</span>r<span class="token punctuation">;</span>
          round_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>o <span class="token operator">-=</span> para<span class="token punctuation">.</span>o<span class="token punctuation">;</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>round_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>o <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            round_arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            i<span class="token operator">--</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br></div></div><p>核心思想是记录位置、操作信息，</p> <p>鼠标的操作进行更新信息，然后使用 Canvas 重新绘制即可。</p> <p>应用例子：鼠标移动地图（记录上一次的位置信息，记录鼠标的位置信息，对地图的信息整体改变，然后重新绘制）</p> <p>实践例子：一个简单图片绘制，跟鼠标一起的信息处理。每次鼠标移动，图片的位置跟随移动。</p> <p>后续。</p> <h3 id="使用-canvas-实现地图的渲染、拖拽、缩放"><a href="#使用-canvas-实现地图的渲染、拖拽、缩放" class="header-anchor">#</a> 使用 Canvas 实现地图的渲染、拖拽、缩放</h3> <p>监听鼠标事件，然后更改渲染的数据，进行对 Canvas 重新绘制。</p> <h3 id="使用-canvas-实现一个可交互的图表"><a href="#使用-canvas-实现一个可交互的图表" class="header-anchor">#</a> 使用 Canvas 实现一个可交互的图表</h3> <ul><li>Chart.js</li></ul> <h2 id="实战"><a href="#实战" class="header-anchor">#</a> 实战</h2> <ul><li>API</li> <li>抽象层次</li></ul> <p>从设计入手，API 和抽象层次两个方面来分析源码和动手设计一款出来。</p> <p>mini-arcgis-api-for-js</p> <p>如果你思考用哪个可视化库，那就先从你的时间、你的编码习惯、任务本身以及库的目标用户等角度来决定库的抽象层次。选择好哪种抽象层次的库之后，再去看看 API 设计以及其他可能需要考虑的因素：</p> <ul><li>渲染技术：用的是 SVG，Canvas，还是 WebGL</li> <li>性能：包大小，速度，服务端渲染等</li> <li>其他：类型安全，证书，主题风格，动效等</li></ul> <h3 id="抽象层级"><a href="#抽象层级" class="header-anchor">#</a> 抽象层级</h3> <ul><li>封装一个图形操作库（Graphic Libraries）
<ul><li>three.js</li></ul></li></ul> <h3 id="设计一个地图库"><a href="#设计一个地图库" class="header-anchor">#</a> 设计一个地图库</h3> <ul><li>分析地图库 Arcgis
<ul><li>Arcgis api for js 3.x 版本使用 svg 实现地图，4.x 使用 canvas（2d 和 3d webgl）。</li></ul></li> <li>分析地图库 Openlayer</li></ul> <p><img src="/Notebook/assets/img/2020-10-27-08-17-42.3a62a8a3.png" alt=""></p> <h3 id="设计一款图表库"><a href="#设计一款图表库" class="header-anchor">#</a> 设计一款图表库</h3> <ul><li>分析图表库 ECharts、D3</li></ul> <h2 id="一些坑"><a href="#一些坑" class="header-anchor">#</a> 一些坑</h2> <h3 id="canvas-todataurl-失效不可读"><a href="#canvas-todataurl-失效不可读" class="header-anchor">#</a> Canvas.toDataURL() 失效不可读</h3> <p>或者读不了</p> <p>解决方案：</p> <ol><li>通过服务端出图。</li></ol> <p>对比通过打印服务出图的时间记录，与前端 html2canvas 出图的时间。</p> <h3 id="canvas-不能出矢量图（arcgis-4-x-的时候）"><a href="#canvas-不能出矢量图（arcgis-4-x-的时候）" class="header-anchor">#</a> Canvas 不能出矢量图（arcgis 4.x 的时候）</h3> <ul><li><p>task printTask</p></li> <li><p>html2canvas（4.12 后版本与前版本）</p></li> <li><p><a href="https://www.jianshu.com/p/30db6d047c50" target="_blank" rel="noopener noreferrer">Arcgis 导出图片<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <p>因为 html2canvas 转化成 canvas 的时候并不支持 transform
我们看看各个图层在 dom 是如何构成。可能会导致 图层和底图偏移。（3.x）</p> <p>只能通过 svg 出图，这个也是 Arcgis api 3.x 的时候，导出图片的好处。 svg 出图。</p> <p>地图的图层绘制，也是通过 drawImage</p> <ul><li>上面，我们是用 base64 来进行下载的，而谷歌浏览器限制了 donwload 属性的 a 标签 url 长度。这时候我们可以将 html2canvas 转化为 <code>blob</code>，再使用一个插件： <code>FileSaver</code> 进行下载 ，代码如下，只需要在返回 canvas 的代码块中修改一下就可以了：</li></ul> <p>使用瓦片服务，会出现跨域问题。地图会空白,如图，左边为需要的效果，右边为实际效果。（svg 的情况，带有 html 的）</p> <p>作者：alan_1
链接：https://www.jianshu.com/p/30db6d047c50
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://www.zhangxinxu.com/wordpress/2018/02/crossorigin-canvas-getimagedata-cors/" target="_blank" rel="noopener noreferrer">解决 canvas 图片 getImageData,toDataURL 跨域问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/6844903782124371981" target="_blank" rel="noopener noreferrer">超简单的 canvas 绘制地图<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://user-gold-cdn.xitu.io/2017/12/3/1601cd6b7a0d58b7" target="_blank" rel="noopener noreferrer">深入理解定时器系列第二篇——被誉为神器的 requestAnimationFrame<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/book/6844723714655780871/section/6844723715284926471" target="_blank" rel="noopener noreferrer">如何使用 Canvas 制作出炫酷的网页背景特效<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.zhangxinxu.com/study/201708/svg-foreignobject-dom-to-image.html" target="_blank" rel="noopener noreferrer">借助 SVG forginObject 实现 DOM 转图片实例页面<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://mp.weixin.qq.com/s/Y0ZBxpGdlr3fE8BtkjtvGw" target="_blank" rel="noopener noreferrer">可视化库的设计空间<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/6/2021, 4:00:29 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.139a155b.js" defer></script><script src="/Notebook/assets/js/4.e8b70bd9.js" defer></script><script src="/Notebook/assets/js/60.bd7eaa9a.js" defer></script>
  </body>
</html>
